{"version":3,"sources":["webpack:////Users/conner-ck/WORK/2024-graduation-new/uni_modules/ksp-cropper/components/ksp-cropper/ksp-cropper.vue?50e6","webpack:////Users/conner-ck/WORK/2024-graduation-new/uni_modules/ksp-cropper/components/ksp-cropper/ksp-cropper.vue?8d0b","webpack:////Users/conner-ck/WORK/2024-graduation-new/uni_modules/ksp-cropper/components/ksp-cropper/ksp-cropper.vue?4c99","uni-app:///uni_modules/ksp-cropper/components/ksp-cropper/ksp-cropper.vue","webpack:////Users/conner-ck/WORK/2024-graduation-new/uni_modules/ksp-cropper/components/ksp-cropper/ksp-cropper.vue?26bb","webpack:////Users/conner-ck/WORK/2024-graduation-new/uni_modules/ksp-cropper/components/ksp-cropper/ksp-cropper.vue?bd6d","webpack:////Users/conner-ck/WORK/2024-graduation-new/uni_modules/ksp-cropper/components/ksp-cropper/ksp-cropper.vue?f4ec","webpack:////Users/conner-ck/WORK/2024-graduation-new/uni_modules/ksp-cropper/components/ksp-cropper/ksp-cropper.vue?cde8","webpack:////Users/conner-ck/WORK/2024-graduation-new/uni_modules/ksp-cropper/components/ksp-cropper/ksp-cropper.vue?7f83"],"names":["props","mode","type","default","url","width","height","maxWidth","maxHeight","data","canvasId","real","target","body","frame","left","top","image","rotate","transit","modeValue","methods","imageLoad","uni","src","success","query","init","rate","updateData","trimImage","setTimeout","rotateAngle","onok","oncancle","cropWx","mx","in","select","fields","node","exec","resolve","canvas","title","context","wx","path","complete","cropAppH5","destWidth","destHeight","fail","computeMatrix","mul","sw","sh","angle","ox","oy","sx","sy","x","y","w","h","dr","tw","th","dx","dy","dw","dh","parsePoint","result","parseRect","parseBlob","u8arr"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAs3B,CAAgB,u0BAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACuC14B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAVA,eAWA;EACAA;IACAC;MACAC;MACAC;IACA;IACAC;MACAF;MACAC;IACA;IACAE;MACAH;MACAC;IACA;IACAG;MACAJ;MACAC;IACA;IACAI;MACAL;MACAC;IACA;IACAK;MACAN;MACAC;IACA;EACA;EACAM;IACA;MACAC;MACAC;QACAN;QACAC;MACA;MACAM;QACAP;QACAC;MACA;MACAO;QACAR;QACAC;MACA;MACAQ;QACAC;QACAC;QACAX;QACAC;MACA;MACAW;QACAF;QACAC;QACAX;QACAC;MACA;MACAY;MACAC;MACAC;IACA;EACA;EACAC;IACAC;MAAA;MACAC;QACAC;QACAC;UACA;UACA;UACA;UACA;UACAC;YACA;YACA;YACA;UACA;QACA;MACA;IACA;IACAC;MACA;MACA;MACA;MACA;MACA;MACA;QACAtB;MACA;QACAC;MACA;MACA;MACA;MACA;QACAS;QACAC;QACAX;QACAC;MACA;MACAsB;MACAvB;MACAC;MACA;QACAA;MACA;QACAD;MACA;MACAU;MACAC;MACA;QACAD;QACAC;QACAX;QACAC;MACA;IACA;IACAuB;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;gBACA;gBACA;gBAAA;gBAAA,OACA;cAAA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACAC;MAAA;MACA;MACA;MACA;MACA;QACAzB;MACA;QACAC;MACA;MACA;MACA;MACA;MACA;MACA;MACA;QACAS;QACAC;QACAX;QACAC;MACA;MACAD;MACAC;MACAS;MACAC;MACA;QACAD;QACAC;QACAX;QACAC;MACA;MACA;QACA;QACAyB;UACA;QACA;MACA;IACA;IACAC;MAAA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;QACA3B;QACAC;MACA;MACA;QACAA;QACAD;MACA;MACA;QACAU;MACA;MACA;QACAC;MACA;MACA;QACAD;MACA;MACA;QACAC;MACA;MACA;QACAD;QACAC;QACAX;QACAC;MACA;MACA;MACAyB;QACA;MACA;IACA;IACAE;MAEA;IAKA;IACAC;MACA;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAC;gBACA;kBACA/B;kBACAC;gBACA;gBAAA;gBAAA,OACA;kBACAiB,0BACAc,WACAC,kBACAC;oBAAAC;kBAAA,GACAC;oBACA;oBACAC;kBACA;gBACA;cAAA;gBATAC;gBAUAA;gBACAA;gBACApB;kBACAqB;gBACA;gBAAA;gBAAA,OACA;kBACAb;gBACA;cAAA;gBACAc;gBACA5B;gBAAA;gBAAA,OACA;kBACAA;kBACAA;kBACAA;gBACA;cAAA;gBACA4B;gBACAA;gBACAA;gBACAA;gBACAC;kBACAH;kBACA;kBACA;kBACAlB;oBACA;oBACA;sBACAsB;oBACA;kBACA;kBACAC;oBACAzB;kBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACA0B;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAb;gBACA;kBACA/B;kBACAC;gBACA;gBACAiB;kBACAqB;gBACA;gBAAA;gBAAA,OACA;kBACAb;oBACAW;kBACA;gBACA;cAAA;gBACAG;gBACAA;gBACAA;gBACAA;gBACAA;gBAAA;gBAAA,OACA;kBACAA;oBACAH;kBACA;gBACA;cAAA;gBACAnB;kBACAb;kBACAwC;kBACAC;kBACA1B;oBACAF;oBACA;kBAcA;kBACA6B;oBACA7B;kBACA;kBACAyB,+BAEA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACAK;MACA;MACA;MACA;MACA;QACAC;MACA;MACA;QACAjD;QACAC;MACA;MACA;MACA;QACAD;QACAC;MACA;MACA;QACAA;QACAD;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;QACA;QACAkD;QACAC;MACA;MACA;MACA;QACAC;MACA;MACA;QACA;QACA;QACAC;QACAC;MACA;MACA;QACA;QACA;QACAD;QACAC;MACA;MACA;QACA;QACA;QACAD;QACAC;MACA;MACAC;MACAC;MACA;QAAAC;QAAAC;QAAAC;QAAAC;MAAA;MACAC;MACA;QACAC;QACAC;QACAR;QACAC;QACAN;QACAC;QACAa;QACAC;QACAC;QACAC;MACA;IACA;IACAC;MACA;MACAC;MACAA;MACA;IACA;IACAC;MACA;MACA;MACA;MACA;MACA;QAAAb;QAAAC;MAAA;MACA;QAAAD;QAAAC;MAAA;MACA;MACAW;MACAA;MACAA;MACAA;MACA;IACA;IACAE;MACA;MACA;MACA;MACA;MACA;MACA;QACAC;MACA;MACA;MACA;QAAA3E;MAAA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AC5cA;AAAA;AAAA;AAAA;AAA6wC,CAAgB,wqCAAG,EAAC,C;;;;;;;;;;;ACAjyC;AACA,OAAO,KAAU,EAAE,kBAKd;;;;;;;;;;;;;ACNL;AAAA;AAAA,wCAA+mB,CAAgB,onBAAG,EAAC,C;;;;;;;;;;;;ACAnoB;AAAe;AACf;AACA;AACA;AACA;AACA,M;;;;;;;;;;;;ACLA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA81Y;AAC91Y;AAC+D;AACL;AACqC;;;AAG/F;AACyN;AACzN,gBAAgB,uNAAU;AAC1B,EAAE,iFAAM;AACR,EAAE,4zYAAM;AACR,EAAE,q0YAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,g0YAAU;AACZ;AACA;;AAEA;AACmG;AACnG,WAAW,qHAAM,iBAAiB,6HAAM;;AAExC;AACe,gF","file":"uni_modules/ksp-cropper/components/ksp-cropper/ksp-cropper.js","sourcesContent":["export * from \"-!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ksp-cropper.vue?vue&type=template&id=e8989f18&scoped=true&filter-modules=eyJtd3giOnsidHlwZSI6InNjcmlwdCIsImNvbnRlbnQiOiJ2YXIgbW9kZSA9IFwiXCI7XG5cdHZhciByb3RhdGUgPSAwO1xuXHR2YXIgaW1hZ2UgPSB7XG5cdFx0bGVmdDogMCxcblx0XHR0b3A6IDAsXG5cdFx0d2lkdGg6IDAsXG5cdFx0aGVpZ2h0OiAwXG5cdH07XG5cdHZhciBmcmFtZSA9IHtcblx0XHRsZWZ0OiAwLFxuXHRcdHRvcDogMCxcblx0XHR3aWR0aDogMCxcblx0XHRoZWlnaHQ6IDBcblx0fTtcblx0dmFyIHRvdWNoZXMgPSBbXTtcblx0dmFyIHRvdWNoVHlwZSA9IFwiXCI7XG5cdHZhciBzdGFydCA9IHtcblx0XHRmcmFtZToge1xuXHRcdFx0bGVmdDogMCxcblx0XHRcdHRvcDogMCxcblx0XHRcdHdpZHRoOiAwLFxuXHRcdFx0aGVpZ2h0OiAwXG5cdFx0fSxcblx0XHRpbWFnZToge1xuXHRcdFx0bGVmdDogMCxcblx0XHRcdHRvcDogMCxcblx0XHRcdHdpZHRoOiAwLFxuXHRcdFx0aGVpZ2h0OiAwXG5cdFx0fVxuXHR9O1xuXHRmdW5jdGlvbiBjaGFuZ2VNb2RlKHZhbHVlKSB7XG4gICAgICAgIGlmIChudWxsID09IHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblx0XHRtb2RlID0gdmFsdWU7XG5cdH1cblx0ZnVuY3Rpb24gY2hhbmdlUm90YXRlKHZhbHVlLCBvbGQsIG9pLCBpbnN0YW5jZSkge1xuICAgICAgICBpZiAobnVsbCA9PSB2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cdFx0cm90YXRlID0gdmFsdWU7XG5cdFx0ZGVsYXlVcGRhdGVTdHlsZShvaSk7XG5cdH1cblx0ZnVuY3Rpb24gY2hhbmdlSW1hZ2UodmFsdWUsIG9sZCwgb2ksIGluc3RhbmNlKSB7XG4gICAgICAgIGlmIChudWxsID09IHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblx0XHRpbWFnZSA9IHZhbHVlO1xuXHRcdGRlbGF5VXBkYXRlU3R5bGUob2kpO1xuXHR9XG5cdGZ1bmN0aW9uIGNoYW5nZUZyYW1lKHZhbHVlLCBvbGQsIG9pLCBpbnN0YW5jZSkge1xuICAgICAgICBpZiAobnVsbCA9PSB2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cdFx0ZnJhbWUgPSB2YWx1ZTtcblx0XHRkZWxheVVwZGF0ZVN0eWxlKG9pKTtcblx0fVxuICAgIGZ1bmN0aW9uIGRlbGF5VXBkYXRlU3R5bGUob2kpIHtcblxuXG5cblxuXG5cbiAgICAgICAgdXBkYXRlU3R5bGUob2kpO1xuXG4gICAgfVxuXHRmdW5jdGlvbiB0b3VjaHN0YXJ0KGV2ZW50LCBvaSkge1xuXG5cblxuXG5cblxuXG5cblx0XHR0b3VjaGVzID0gZXZlbnQudG91Y2hlcztcblx0XHR2YXIgaW5zdGFuY2UgPSBldmVudC5pbnN0YW5jZTtcblx0XHRpZiAoaW5zdGFuY2UuaGFzQ2xhc3MoXCJib2R5XCIpKSB7XG5cdFx0XHR0b3VjaFR5cGUgPSBcImJvZHlcIjtcblx0XHR9IGVsc2UgaWYgKGluc3RhbmNlLmhhc0NsYXNzKFwiZnJhbWUtbGVmdC10b3BcIikpIHtcblx0XHRcdHRvdWNoVHlwZSA9IFwibGVmdC10b3BcIjtcblx0XHR9IGVsc2UgaWYgKGluc3RhbmNlLmhhc0NsYXNzKFwiZnJhbWUtbGVmdC1ib3R0b21cIikpIHtcblx0XHRcdHRvdWNoVHlwZSA9IFwibGVmdC1ib3R0b21cIjtcblx0XHR9IGVsc2UgaWYgKGluc3RhbmNlLmhhc0NsYXNzKFwiZnJhbWUtcmlnaHQtdG9wXCIpKSB7XG5cdFx0XHR0b3VjaFR5cGUgPSBcInJpZ2h0LXRvcFwiO1xuXHRcdH0gZWxzZSBpZiAoaW5zdGFuY2UuaGFzQ2xhc3MoXCJmcmFtZS1yaWdodC1ib3R0b21cIikpIHtcblx0XHRcdHRvdWNoVHlwZSA9IFwicmlnaHQtYm90dG9tXCI7XG5cdFx0fVxuXHRcdHN0YXJ0LmZyYW1lLmxlZnQgPSBmcmFtZS5sZWZ0O1xuXHRcdHN0YXJ0LmZyYW1lLnRvcCA9IGZyYW1lLnRvcDtcblx0XHRzdGFydC5mcmFtZS53aWR0aCA9IGZyYW1lLndpZHRoO1xuXHRcdHN0YXJ0LmZyYW1lLmhlaWdodCA9IGZyYW1lLmhlaWdodDtcblx0XHRzdGFydC5pbWFnZS5sZWZ0ID0gaW1hZ2UubGVmdDtcblx0XHRzdGFydC5pbWFnZS50b3AgPSBpbWFnZS50b3A7XG5cdFx0c3RhcnQuaW1hZ2Uud2lkdGggPSBpbWFnZS53aWR0aDtcblx0XHRzdGFydC5pbWFnZS5oZWlnaHQgPSBpbWFnZS5oZWlnaHQ7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cdGZ1bmN0aW9uIHRvdWNobW92ZShldmVudCwgb2kpIHtcblxuXG5cblxuXG5cblxuXG5cdFx0dmFyIGluc3RhbmNlID0gZXZlbnQuaW5zdGFuY2U7XG5cdFx0aWYgKHRvdWNoZXMubGVuZ3RoID09IDEpIHtcblx0XHRcdGlmICh0b3VjaFR5cGUgPT0gXCJib2R5XCIpIHtcblx0XHRcdFx0bW92ZUltYWdlKHRvdWNoZXNbMF0sIGV2ZW50LnRvdWNoZXNbMF0sIG9pKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHNjYWxlRnJhbWUodG91Y2hlc1swXSwgZXZlbnQudG91Y2hlc1swXSwgb2kpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSBpZiAodG91Y2hlcy5sZW5ndGggPT0gMiAmJiBldmVudC50b3VjaGVzLmxlbmd0aCA9PSAyKSB7XG5cdFx0XHR2YXIgdGEgPSB0b3VjaGVzWzBdO1xuXHRcdFx0dmFyIHRiID0gdG91Y2hlc1sxXTtcblx0XHRcdHZhciB0YyA9IGV2ZW50LnRvdWNoZXNbMF07XG5cdFx0XHR2YXIgdGQgPSBldmVudC50b3VjaGVzWzFdO1xuXHRcdFx0aWYgKHRhLmlkZW50aWZpZXIgIT0gdGMuaWRlbnRpZmllcikge1xuXHRcdFx0XHR2YXIgdGVtcCA9IHRjO1xuXHRcdFx0XHR0YyA9IHRkO1xuXHRcdFx0XHR0ZCA9IHRlbXA7XG5cdFx0XHR9XG5cdFx0XHRzY2FsZUltYWdlKHRhLCB0YiwgdGMsIHRkLCBvaSk7XG5cdFx0fVxuXHR9XG5cdGZ1bmN0aW9uIHRvdWNoZW5kKGV2ZW50LCBvaSkge1xuXHRcdHRvdWNoZXMgPSBbXTtcblx0XHRvaS5jYWxsTWV0aG9kKFwidXBkYXRlRGF0YVwiLCB7ZnJhbWU6IGZyYW1lLCBpbWFnZTogaW1hZ2V9KTtcblx0fVxuXHRmdW5jdGlvbiB0b3VjaGNhbmNlbChldmVudCwgb2kpIHtcblx0XHR0b3VjaGVzID0gW107XG5cdFx0b2kuY2FsbE1ldGhvZChcInVwZGF0ZURhdGFcIiwge2ZyYW1lOiBmcmFtZSwgaW1hZ2U6IGltYWdlfSk7XG5cdH1cblx0ZnVuY3Rpb24gbW92ZUltYWdlKHRhLCB0Yiwgb2kpIHtcblx0XHR2YXIgYXggPSB0Yi5jbGllbnRYIC0gdGEuY2xpZW50WDtcblx0XHR2YXIgYXkgPSB0Yi5jbGllbnRZIC0gdGEuY2xpZW50WTtcblx0XHRpbWFnZS5sZWZ0ID0gc3RhcnQuaW1hZ2UubGVmdCArIGF4O1xuXHRcdGltYWdlLnRvcCA9IHN0YXJ0LmltYWdlLnRvcCArIGF5O1xuXHRcdHZhciBsZWZ0ID0gZnJhbWUubGVmdDtcblx0XHR2YXIgdG9wID0gZnJhbWUudG9wO1xuXHRcdHZhciB3aWR0aCA9IGZyYW1lLndpZHRoO1xuXHRcdHZhciBoZWlnaHQgPSBmcmFtZS5oZWlnaHQ7XG5cdFx0aWYgKGltYWdlLmxlZnQgPiBsZWZ0KSB7XG5cdFx0XHRpbWFnZS5sZWZ0ID0gbGVmdDtcblx0XHR9XG5cdFx0aWYgKGltYWdlLnRvcCA%2BIHRvcCkge1xuXHRcdFx0aW1hZ2UudG9wID0gdG9wO1xuXHRcdH1cblx0XHRpZiAoaW1hZ2UubGVmdCArIGltYWdlLndpZHRoIDwgbGVmdCArIHdpZHRoKSB7XG5cdFx0XHRpbWFnZS5sZWZ0ID0gbGVmdCArIHdpZHRoIC0gaW1hZ2Uud2lkdGg7IFxuXHRcdH1cblx0XHRpZiAoaW1hZ2UudG9wICsgaW1hZ2UuaGVpZ2h0IDwgdG9wICsgaGVpZ2h0KSB7XG5cdFx0XHRpbWFnZS50b3AgPSB0b3AgKyBoZWlnaHQgLSBpbWFnZS5oZWlnaHQ7XG5cdFx0fVxuXHRcdHVwZGF0ZVN0eWxlKG9pKTtcblx0fVxuXHRmdW5jdGlvbiBzY2FsZUltYWdlKHRhLCB0YiwgdGMsIHRkLCBvaSkge1xuXHRcdHZhciB4MSA9IHRhLmNsaWVudFg7XG5cdFx0dmFyIHkxID0gdGEuY2xpZW50WTtcblx0XHR2YXIgeDIgPSB0Yi5jbGllbnRYO1xuXHRcdHZhciB5MiA9IHRiLmNsaWVudFk7XG5cdFx0dmFyIHgzID0gdGMuY2xpZW50WDtcblx0XHR2YXIgeTMgPSB0Yy5jbGllbnRZO1xuXHRcdHZhciB4NCA9IHRkLmNsaWVudFg7XG5cdFx0dmFyIHk0ID0gdGQuY2xpZW50WTtcblx0XHR2YXIgb2wgPSBNYXRoLnNxcnQoKHgxIC0geDIpICogKHgxIC0geDIpICsgKHkxIC0geTIpICogKHkxIC0geTIpKTtcblx0XHR2YXIgZWwgPSBNYXRoLnNxcnQoKHgzIC0geDQpICogKHgzIC0geDQpICsgKHkzIC0geTQpICogKHkzIC0geTQpKTtcblx0XHR2YXIgb2N4ID0gKHgxICsgeDIpIC8gMjtcblx0XHR2YXIgb2N5ID0gKHkxICsgeTIpIC8gMjtcblx0XHR2YXIgZWN4ID0gKHgzICsgeDQpIC8gMjtcblx0XHR2YXIgZWN5ID0gKHkzICsgeTQpIC8gMjtcblx0XHR2YXIgYXggPSBlY3ggLSBvY3g7XG5cdFx0dmFyIGF5ID0gZWN5IC0gb2N5O1xuXHRcdHZhciBzY2FsZSA9IGVsIC8gb2w7XG5cdFx0aWYgKHN0YXJ0LmltYWdlLndpZHRoICogc2NhbGUgPCBmcmFtZS53aWR0aCkge1xuXHRcdFx0c2NhbGUgPSBmcmFtZS53aWR0aCAvIHN0YXJ0LmltYWdlLndpZHRoO1xuXHRcdH1cblx0XHRpZiAoc3RhcnQuaW1hZ2UuaGVpZ2h0ICogc2NhbGUgPCBmcmFtZS5oZWlnaHQpIHtcblx0XHRcdHNjYWxlID0gZnJhbWUuaGVpZ2h0IC8gc3RhcnQuaW1hZ2UuaGVpZ2h0O1xuXHRcdH1cblx0XHRpZiAoc3RhcnQuaW1hZ2Uud2lkdGggKiBzY2FsZSA8IGZyYW1lLndpZHRoKSB7XG5cdFx0XHRzY2FsZSA9IGZyYW1lLndpZHRoIC8gc3RhcnQuaW1hZ2Uud2lkdGg7XG5cdFx0fVxuXHRcdGltYWdlLmxlZnQgPSBzdGFydC5pbWFnZS5sZWZ0ICsgYXggLSAob2N4IC0gc3RhcnQuaW1hZ2UubGVmdCkgKiAoc2NhbGUgLSAxKTtcblx0XHRpbWFnZS50b3AgPSBzdGFydC5pbWFnZS50b3AgKyBheSAtIChvY3kgLSBzdGFydC5pbWFnZS50b3ApICogKHNjYWxlIC0gMSk7XG5cdFx0aW1hZ2Uud2lkdGggPSBzdGFydC5pbWFnZS53aWR0aCAqIHNjYWxlO1xuXHRcdGltYWdlLmhlaWdodCA9IHN0YXJ0LmltYWdlLmhlaWdodCAqIHNjYWxlO1xuXHRcdGlmIChpbWFnZS5sZWZ0ID4gZnJhbWUubGVmdCkge1xuXHRcdFx0aW1hZ2UubGVmdCA9IGZyYW1lLmxlZnQ7XG5cdFx0fVxuXHRcdGlmIChpbWFnZS50b3AgPiBmcmFtZS50b3ApIHtcblx0XHRcdGltYWdlLnRvcCA9IGZyYW1lLnRvcDtcblx0XHR9XG5cdFx0aWYgKGltYWdlLmxlZnQgKyBpbWFnZS53aWR0aCA8IGZyYW1lLmxlZnQgKyBmcmFtZS53aWR0aCkge1xuXHRcdFx0aW1hZ2UubGVmdCA9IGZyYW1lLmxlZnQgKyBmcmFtZS53aWR0aCAtIGltYWdlLndpZHRoOyBcblx0XHR9XG5cdFx0aWYgKGltYWdlLnRvcCArIGltYWdlLmhlaWdodCA8IGZyYW1lLnRvcCArIGZyYW1lLmhlaWdodCkge1xuXHRcdFx0aW1hZ2UudG9wID0gZnJhbWUudG9wICsgZnJhbWUuaGVpZ2h0IC0gaW1hZ2UuaGVpZ2h0OyBcblx0XHR9XG5cdFx0dXBkYXRlU3R5bGUob2kpO1xuXHR9XG5cdGZ1bmN0aW9uIHNjYWxlRnJhbWUodGEsIHRiLCBvaSkge1xuXHRcdHZhciBheCA9IHRiLmNsaWVudFggLSB0YS5jbGllbnRYO1xuXHRcdHZhciBheSA9IHRiLmNsaWVudFkgLSB0YS5jbGllbnRZO1xuXHRcdHZhciB4MSA9IHN0YXJ0LmZyYW1lLmxlZnQ7XG5cdFx0dmFyIHkxID0gc3RhcnQuZnJhbWUudG9wO1xuXHRcdHZhciB4MiA9IHN0YXJ0LmZyYW1lLmxlZnQgKyBzdGFydC5mcmFtZS53aWR0aDtcblx0XHR2YXIgeTIgPSBzdGFydC5mcmFtZS50b3AgKyBzdGFydC5mcmFtZS5oZWlnaHQ7XG5cdFx0dmFyIGN4MSA9IGZhbHNlO1xuXHRcdHZhciBjeTEgPSBmYWxzZTtcblx0XHR2YXIgY3gyID0gZmFsc2U7XG5cdFx0dmFyIGN5MiA9IGZhbHNlO1xuXHRcdHZhciBtaXggPSAzMDtcblx0XHR2YXIgcmF0ZSA9IGZyYW1lLndpZHRoIC8gZnJhbWUuaGVpZ2h0O1xuXHRcdGlmICh0b3VjaFR5cGUgPT0gXCJsZWZ0LXRvcFwiKSB7XG5cdFx0XHR4MSArPSBheDtcblx0XHRcdHkxICs9IGF5O1xuXHRcdFx0Y3gxID0gdHJ1ZTtcblx0XHRcdGN5MSA9IHRydWU7XG5cdFx0fSBlbHNlIGlmICh0b3VjaFR5cGUgPT0gXCJsZWZ0LWJvdHRvbVwiKSB7XG5cdFx0XHR4MSArPSBheDtcblx0XHRcdHkyICs9IGF5O1xuXHRcdFx0Y3gxID0gdHJ1ZTtcblx0XHRcdGN5MiA9IHRydWU7XG5cdFx0fSBlbHNlIGlmICh0b3VjaFR5cGUgPT0gXCJyaWdodC10b3BcIikge1xuXHRcdFx0eDIgKz0gYXg7XG5cdFx0XHR5MSArPSBheTtcblx0XHRcdGN4MiA9IHRydWU7XG5cdFx0XHRjeTEgPSB0cnVlO1xuXHRcdH0gZWxzZSBpZiAodG91Y2hUeXBlID09IFwicmlnaHQtYm90dG9tXCIpIHtcblx0XHRcdHgyICs9IGF4O1xuXHRcdFx0eTIgKz0gYXk7XG5cdFx0XHRjeDIgPSB0cnVlO1xuXHRcdFx0Y3kyID0gdHJ1ZTtcblx0XHR9XG5cdFx0aWYgKHgxIDwgaW1hZ2UubGVmdCkge1xuXHRcdFx0eDEgPSBpbWFnZS5sZWZ0O1xuXHRcdH1cblx0XHRpZiAoeTEgPCBpbWFnZS50b3ApIHtcblx0XHRcdHkxID0gaW1hZ2UudG9wO1xuXHRcdH1cblx0XHRpZiAoeDIgPiBpbWFnZS5sZWZ0ICsgaW1hZ2Uud2lkdGgpIHtcblx0XHRcdHgyID0gaW1hZ2UubGVmdCArIGltYWdlLndpZHRoO1xuXHRcdH1cblx0XHRpZiAoeTIgPiBpbWFnZS50b3AgKyBpbWFnZS5oZWlnaHQpIHtcblx0XHRcdHkyID0gaW1hZ2UudG9wICsgaW1hZ2UuaGVpZ2h0O1xuXHRcdH1cblx0XHRpZiAoY3gxKSB7XG5cdFx0XHRpZiAoeDEgPiB4MiAtIG1peCkge1xuXHRcdFx0XHR4MSA9IHgyIC0gbWl4O1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZiAoY3kxKSB7XG5cdFx0XHRpZiAoeTEgPiB5MiAtIG1peCkge1xuXHRcdFx0XHR5MSA9IHkyIC0gbWl4O1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZiAoY3gyKSB7XG5cdFx0XHRpZiAoeDIgPCB4MSArIG1peCkge1xuXHRcdFx0XHR4MiA9IHgxICsgbWl4O1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZiAoY3kyKSB7XG5cdFx0XHRpZiAoeTIgPCB5MSArIG1peCkge1xuXHRcdFx0XHR5MiA9IHkxICsgbWl4O1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZiAoY3gxKSB7XG5cdFx0XHRpZiAobW9kZSAhPSBcImZyZWVcIikge1xuXHRcdFx0XHR2YXIgdmFsID0geDIgLSByYXRlICogKHkyIC0geTEpO1xuXHRcdFx0XHRpZiAoeDEgPCB2YWwpIHtcblx0XHRcdFx0XHR4MSA9IHZhbDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XHRpZiAoY3kxKSB7XG5cdFx0XHRpZiAobW9kZSAhPSBcImZyZWVcIikge1xuXHRcdFx0XHR2YXIgdmFsID0geTIgLSAoeDIgLSB4MSkgLyByYXRlO1xuXHRcdFx0XHRpZiAoeTEgPCB2YWwpIHtcblx0XHRcdFx0XHR5MSA9IHZhbDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XHRpZiAoY3gyKSB7XG5cdFx0XHRpZiAobW9kZSAhPSBcImZyZWVcIikge1xuXHRcdFx0XHR2YXIgdmFsID0gcmF0ZSAqICh5MiAtIHkxKSArIHgxO1xuXHRcdFx0XHRpZiAoeDIgPiB2YWwpIHtcblx0XHRcdFx0XHR4MiA9IHZhbDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XHRpZiAoY3kyKSB7XG5cdFx0XHRpZiAobW9kZSAhPSBcImZyZWVcIikge1xuXHRcdFx0XHR2YXIgdmFsID0gKHgyIC0geDEpIC8gcmF0ZSArIHkxO1xuXHRcdFx0XHRpZiAoeTIgPiB2YWwpIHtcblx0XHRcdFx0XHR5MiA9IHZhbDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XHRmcmFtZS5sZWZ0ID0geDE7XG5cdFx0ZnJhbWUudG9wID0geTE7XG5cdFx0ZnJhbWUud2lkdGggPSB4MiAtIHgxO1xuXHRcdGZyYW1lLmhlaWdodCA9IHkyIC0geTE7XG5cdFx0dXBkYXRlU3R5bGUob2kpO1xuXHR9XG5cdGZ1bmN0aW9uIHVwZGF0ZVN0eWxlKG9pKSB7XG5cdFx0b2kuc2VsZWN0Q29tcG9uZW50KFwiLmZyYW1lXCIpLnNldFN0eWxlKHtcblx0XHRcdFwibGVmdFwiOiBmcmFtZS5sZWZ0ICsgXCJweFwiLFxuXHRcdFx0XCJ0b3BcIjogZnJhbWUudG9wICsgXCJweFwiLFxuXHRcdFx0XCJ3aWR0aFwiOiBmcmFtZS53aWR0aCArIFwicHhcIixcblx0XHRcdFwiaGVpZ2h0XCI6IGZyYW1lLmhlaWdodCArIFwicHhcIlxuXHRcdH0pO1xuXHRcdG9pLnNlbGVjdENvbXBvbmVudChcIi5pbWFnZS13cmFwXCIpLnNldFN0eWxlKHtcblx0XHRcdFwibGVmdFwiOiBpbWFnZS5sZWZ0ICsgXCJweFwiLFxuXHRcdFx0XCJ0b3BcIjogaW1hZ2UudG9wICsgXCJweFwiLFxuXHRcdFx0XCJ3aWR0aFwiOiBpbWFnZS53aWR0aCArIFwicHhcIixcblx0XHRcdFwiaGVpZ2h0XCI6IGltYWdlLmhlaWdodCArIFwicHhcIlxuXHRcdH0pO1xuXHRcdG9pLnNlbGVjdENvbXBvbmVudChcIi5pbWFnZS1yZWN0XCIpLnNldFN0eWxlKHtcblx0XHRcdFwibGVmdFwiOiBpbWFnZS5sZWZ0IC0gZnJhbWUubGVmdCArIFwicHhcIixcblx0XHRcdFwidG9wXCI6IGltYWdlLnRvcCAtIGZyYW1lLnRvcCArIFwicHhcIixcblx0XHRcdFwid2lkdGhcIjogaW1hZ2Uud2lkdGggKyBcInB4XCIsXG5cdFx0XHRcImhlaWdodFwiOiBpbWFnZS5oZWlnaHQgKyBcInB4XCJcblx0XHR9KTtcblx0XHR2YXIgbGVmdCA9IDA7XG5cdFx0dmFyIHRvcCA9IDA7XG5cdFx0dmFyIHdpZHRoID0gaW1hZ2Uud2lkdGg7XG5cdFx0dmFyIGhlaWdodCA9IGltYWdlLmhlaWdodDtcblx0XHRpZiAocm90YXRlICUgMTgwICE9IDApIHtcblx0XHRcdHdpZHRoID0gaW1hZ2UuaGVpZ2h0O1xuXHRcdFx0aGVpZ2h0ID0gaW1hZ2Uud2lkdGg7XG5cdFx0XHR0b3AgPSB3aWR0aCAvIDIgLSBoZWlnaHQgLyAyO1xuXHRcdFx0bGVmdCA9IGhlaWdodCAvIDIgLSB3aWR0aC8gMjtcblx0XHR9XG5cdFx0b2kuc2VsZWN0Q29tcG9uZW50KFwiLmltYWdlLXdyYXAgLmltYWdlXCIpLnNldFN0eWxlKHtcblx0XHRcdFwibGVmdFwiOiBsZWZ0ICsgXCJweFwiLFxuXHRcdFx0XCJ0b3BcIjogdG9wICsgXCJweFwiLFxuXHRcdFx0XCJ3aWR0aFwiOiB3aWR0aCArIFwicHhcIixcblx0XHRcdFwiaGVpZ2h0XCI6IGhlaWdodCArIFwicHhcIixcblx0XHRcdFwidHJhbnNmb3JtXCI6IFwicm90YXRlKFwiICsgcm90YXRlICsgXCJkZWcpXCJcblx0XHR9KTtcblx0XHRvaS5zZWxlY3RDb21wb25lbnQoXCIuaW1hZ2UtcmVjdCAuaW1hZ2VcIikuc2V0U3R5bGUoe1xuXHRcdFx0XCJsZWZ0XCI6IGxlZnQgKyBcInB4XCIsXG5cdFx0XHRcInRvcFwiOiB0b3AgKyBcInB4XCIsXG5cdFx0XHRcIndpZHRoXCI6IHdpZHRoICsgXCJweFwiLFxuXHRcdFx0XCJoZWlnaHRcIjogaGVpZ2h0ICsgXCJweFwiLFxuXHRcdFx0XCJ0cmFuc2Zvcm1cIjogXCJyb3RhdGUoXCIgKyByb3RhdGUgKyBcImRlZylcIlxuXHRcdH0pO1xuXHR9XG5cdG1vZHVsZS5leHBvcnRzID0ge1xuXHRcdGNoYW5nZU1vZGU6IGNoYW5nZU1vZGUsXG5cdFx0Y2hhbmdlUm90YXRlOiBjaGFuZ2VSb3RhdGUsXG5cdFx0Y2hhbmdlSW1hZ2U6IGNoYW5nZUltYWdlLFxuXHRcdGNoYW5nZUZyYW1lOiBjaGFuZ2VGcmFtZSxcblx0XHR0b3VjaHN0YXJ0OiB0b3VjaHN0YXJ0LFxuXHRcdHRvdWNobW92ZTogdG91Y2htb3ZlLFxuXHRcdHRvdWNoZW5kOiB0b3VjaGVuZCxcblx0XHR0b3VjaGNhbmNlbDogdG91Y2hjYW5jZWxcblx0fTsiLCJzdGFydCI6MTE1MzcsImF0dHJzIjp7Im1vZHVsZSI6Im13eCIsImxhbmciOiJ3eHMifSwiZW5kIjoyMDA1MH19&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ksp-cropper.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ksp-cropper.vue?vue&type=script&lang=js&\"","<template>\n<view v-show=\"url\" :mode=\"modeValue\" :change:mode=\"mwx.changeMode\" :rotate=\"rotate\" :change:rotate=\"mwx.changeRotate\">\n\t<!-- #ifdef MP-WEIXIN -->\n\t<canvas type=\"2d\" class=\"canvas\" :style=\"{width: target.width + 'px', height: target.height + 'px'}\"></canvas>\n\t<!-- #endif -->\n\t<!-- #ifdef APP-PLUS || H5 -->\n\t<canvas :canvas-id=\"canvasId\" :style=\"{width: target.width + 'px', height: target.height + 'px'}\"></canvas>\n\t<!-- #endif -->\n\t<view class=\"panel\">\n\t\t<view class=\"body\" @touchstart=\"mwx.touchstart\" @touchmove=\"mwx.touchmove\" @touchend=\"mwx.touchend\" @touchcancel=\"mwx.touchcancel\">\n\t\t\t<view class=\"image-wrap\" :class=\"{transit: transit}\" :change:rect=\"mwx.changeImage\" :rect=\"image\">\n\t\t\t\t<image class=\"image\" :class=\"{transit: transit}\" :src=\"url\" @load=\"imageLoad\"/>\n\t\t\t</view>\n\t\t\t<view class=\"mask\"></view>\n\t\t\t<view class=\"frame\" :class=\"{transit: transit}\" :change:rect=\"mwx.changeFrame\" :rect=\"frame\">\n\t\t\t\t<view class=\"rect\">\n\t\t\t\t\t<view class=\"image-rect\" :class=\"{transit: transit}\">\n\t\t\t\t\t\t<image class=\"image\" :class=\"{transit: transit}\" :src=\"url\"/>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"line-one\"></view>\n\t\t\t\t<view class=\"line-two\"></view>\n\t\t\t\t<view class=\"line-three\"></view>\n\t\t\t\t<view class=\"line-four\"></view>\n\t\t\t\t<view class=\"frame-left-top\" @touchstart=\"mwx.touchstart\"></view>\n\t\t\t\t<view class=\"frame-left-bottom\" @touchstart=\"mwx.touchstart\"></view>\n\t\t\t\t<view class=\"frame-right-top\" @touchstart=\"mwx.touchstart\"></view>\n\t\t\t\t<view class=\"frame-right-bottom\" @touchstart=\"mwx.touchstart\"></view>\n\t\t\t</view>\n\t\t</view>\n\t\t<view class=\"toolbar\">\n\t\t\t<view @tap=\"oncancle\" class=\"btn-cancel\">取消</view>\n\t\t\t<!-- <view @tap=\"rotateAngle\" class=\"btn-rotate\">旋转</view> -->\n\t\t\t<view @tap=\"onok\" class=\"btn-ok\">确定</view>\n\t\t</view>\n\t</view>\n</view>\n</template>\n<script>\n/**\n * @property {String} mode 模式\n *  @value fixed 固定模式，裁剪出固定大小\n *  @value ratio 等比模式，宽高等比缩放\n *  @value free 自由模式，不限制宽高比\n * @property {String} url 图片路径\n * @property {Number} width 宽度\n * @property {Number} height 高度\n * @property {Number} maxWidth 最大宽带\n * @property {Number} minHeight 最大高度 \n */\nexport default {\n\tprops: {\n\t\tmode: {\n\t\t\ttype: String,\n\t\t\tdefault: \"free\"\n\t\t},\n\t\turl: {\n\t\t\ttype: String,\n\t\t\tdefault: \"\"\n\t\t},\n\t\twidth: {\n\t\t\ttype: Number,\n\t\t\tdefault: 200\n\t\t},\n\t\theight: {\n\t\t\ttype: Number,\n\t\t\tdefault: 200\n\t\t},\n\t\tmaxWidth: {\n\t\t\ttype: Number,\n\t\t\tdefault: 1024\n\t\t},\n\t\tmaxHeight: {\n\t\t\ttype: Number,\n\t\t\tdefault: 1024\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tcanvasId: Math.random().toString(36).slice(-6),\n\t\t\treal: {\n\t\t\t\twidth: 100,\n\t\t\t\theight: 100\n\t\t\t},\n\t\t\ttarget: {\n\t\t\t\twidth: 100,\n\t\t\t\theight: 100\n\t\t\t},\n\t\t\tbody: {\n\t\t\t\twidth: 100,\n\t\t\t\theight: 100\n\t\t\t},\n\t\t\tframe: {\n\t\t\t\tleft: 50,\n\t\t\t\ttop: 50,\n\t\t\t\twidth: 200,\n\t\t\t\theight: 300\n\t\t\t},\n\t\t\timage: {\n\t\t\t\tleft: 20,\n\t\t\t\ttop: 20,\n\t\t\t\twidth: 300,\n\t\t\t\theight: 400\n\t\t\t},\n\t\t\trotate: 0,\n\t\t\ttransit: false,\n\t\t\tmodeValue: \"\"\n\t\t};\n\t},\n\tmethods: {\n\t\timageLoad(event) {\n            uni.getImageInfo({\n                src: this.url,\n                success: (rst) => {\n                    this.real.width = rst.width;\n                    this.real.height = rst.height;\n                    this.target = {};\n                    var query = uni.createSelectorQuery().in(this);\n                    query.select(\".body\").boundingClientRect((data) => {\n                    \tthis.body.width = data.width;\n                    \tthis.body.height = data.height;\n                    \tthis.init();\n                    }).exec();\n                }\n            });\n\t\t},\n\t\tinit() {\n\t\t\tthis.modeValue = this.mode;\n\t\t\tthis.rotate = 0;\n\t\t\tvar rate = this.width / this.height;\n\t\t\tvar width = this.body.width * 0.7;\n\t\t\tvar height = this.body.height * 0.7;\n\t\t\tif (width / height > rate) {\n\t\t\t\twidth = height * rate;\n\t\t\t} else {\n\t\t\t\theight = width / rate;\n\t\t\t}\n\t\t\tvar left = (this.body.width - width) / 2;\n\t\t\tvar top = (this.body.height - height) / 2;\n\t\t\tthis.frame = {\n\t\t\t\tleft: left,\n\t\t\t\ttop: top,\n\t\t\t\twidth: width,\n\t\t\t\theight: height\n\t\t\t};\n\t\t\trate = this.real.width / this.real.height;\n\t\t\twidth = this.frame.width;\n\t\t\theight = this.frame.height;\n\t\t\tif (width / height > rate) {\n\t\t\t\theight = width / rate;\n\t\t\t} else {\n\t\t\t\twidth = height * rate;\n\t\t\t}\n\t\t\tleft = (this.frame.width - width) / 2 + this.frame.left;\n\t\t\ttop = (this.frame.height - height) / 2 + this.frame.top;\n\t\t\tthis.image = {\n\t\t\t\tleft: left,\n\t\t\t\ttop: top,\n\t\t\t\twidth: width,\n\t\t\t\theight: height\n\t\t\t};\n\t\t},\n\t\tasync updateData(data) {\n\t\t\tthis.frame = data.frame;\n\t\t\tthis.image = data.image;\n\t\t\tawait this.$nextTick();\n\t\t\tthis.trimImage();\n\t\t},\n\t\ttrimImage() {\n\t\t\tvar rate = this.frame.width / this.frame.height;\n\t\t\tvar width = this.body.width * 0.7;\n\t\t\tvar height = this.body.height * 0.7;\n\t\t\tif (width / height > rate) {\n\t\t\t\twidth = height * rate;\n\t\t\t} else {\n\t\t\t\theight = width / rate;\n\t\t\t}\n\t\t\tvar left = (this.body.width - width) / 2;\n\t\t\tvar top = (this.body.height - height) / 2;\n\t\t\tvar mul = width / this.frame.width;\n\t\t\tvar ox = this.frame.left - this.image.left;\n\t\t\tvar oy = this.frame.top - this.image.top;\n\t\t\tthis.frame = {\n\t\t\t\tleft: left,\n\t\t\t\ttop: top,\n\t\t\t\twidth: width,\n\t\t\t\theight: height\n\t\t\t};\n\t\t\twidth = this.image.width * mul;\n\t\t\theight = this.image.height * mul;\n\t\t\tleft = this.frame.left - ox * mul;\n\t\t\ttop = this.frame.top - oy * mul;\n\t\t\tthis.image = {\n\t\t\t\tleft: left,\n\t\t\t\ttop: top,\n\t\t\t\twidth: width,\n\t\t\t\theight: height\n\t\t\t};\n\t\t\tif (mul != 1) {\n\t\t\t\tthis.transit = true;\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.transit = false;\n\t\t\t\t}, 300);\n\t\t\t}\n\t\t},\n\t\trotateAngle() {\n\t\t\tthis.rotate -= 90;\n\t\t\tvar width = this.image.height;\n\t\t\tvar height = this.image.width;\n\t\t\tvar left = this.image.left;\n\t\t\tvar top = this.image.top;\n\t\t\tvar rate = width / height;\n\t\t\tif (width < this.frame.width) {\n\t\t\t\twidth = this.frame.width;\n\t\t\t\theight = width / rate;\n\t\t\t}\n\t\t\tif (height < this.frame.height) {\n\t\t\t\theight = this.frame.height;\n\t\t\t\twidth = height * rate;\n\t\t\t}\n\t\t\tif (left > this.frame.left) {\n\t\t\t\tleft = this.frame.left;\n\t\t\t}\n\t\t\tif (top > this.frame.top) {\n\t\t\t\ttop = this.frame.top;\n\t\t\t}\n\t\t\tif (left + width < this.frame.left + this.frame.width) {\n\t\t\t\tleft = this.frame.left + this.frame.width - width; \n\t\t\t}\n\t\t\tif (top + height < this.frame.top + this.frame.height) {\n\t\t\t\ttop = this.frame.top + this.frame.height - height; \n\t\t\t}\n\t\t\tthis.image = {\n\t\t\t\tleft: left,\n\t\t\t\ttop: top,\n\t\t\t\twidth: width,\n\t\t\t\theight: height\n\t\t\t};\n\t\t\tthis.transit = true;\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.transit = false;\n\t\t\t}, 300);\n\t\t},\n\t\tonok() {\n\t\t\t// #ifdef MP-WEIXIN\n\t\t\tthis.cropWx();\n\t\t\t// #endif\n\t\t\t// #ifdef APP-PLUS || H5\n\t\t\tthis.cropAppH5();\n\t\t\t// #endif\n\t\t},\n\t\toncancle() {\n\t\t\tthis.$emit(\"cancel\");\n\t\t},\n\t\tasync cropWx() {\n\t\t\tvar mx = this.computeMatrix();\n\t\t\tthis.target = {\n\t\t\t\twidth: mx.tw,\n\t\t\t\theight: mx.th\n\t\t\t};\n\t\t\tvar canvas = await new Promise((resolve) => {\n\t\t\t\tuni.createSelectorQuery()\n\t\t\t\t.in(this)\n\t\t\t\t.select(\".canvas\")\n\t\t\t\t.fields({node: true})\n\t\t\t\t.exec((rst) => {\n\t\t\t\t\tvar node = rst[0].node;\n\t\t\t\t\tresolve(node);\n\t\t\t\t});\n\t\t\t});\n\t\t\tcanvas.width = mx.tw;\n\t\t\tcanvas.height = mx.th;\n\t\t\tuni.showLoading({\n\t\t\t\ttitle: \"处理中\"\n\t\t\t});\n\t\t\tawait new Promise((resolve) => {\n\t\t\t\tsetTimeout(resolve, 200);\n\t\t\t});\n\t\t\tvar context = canvas.getContext(\"2d\");\n\t\t\tvar image = canvas.createImage();\n\t\t\tawait new Promise((resolve, reject) => {\n\t\t\t\timage.onload = resolve;\n\t\t\t\timage.onerror = reject;\n\t\t\t\timage.src = this.url;\n\t\t\t});\n\t\t\tcontext.save();\n\t\t\tcontext.rotate(this.rotate * Math.PI / 180);\n\t\t\tcontext.drawImage(image, mx.sx, mx.sy, mx.sw, mx.sh, mx.dx, mx.dy, mx.dw, mx.dh);\n\t\t\tcontext.restore();\n\t\t\twx.canvasToTempFilePath({\n\t\t\t\tcanvas: canvas,\n\t\t\t\t// destWidth: mx.tw,\n\t\t\t\t// destHeight: mx.th,\n\t\t\t\tsuccess: (rst) => {\n\t\t\t\t\tvar path = rst.tempFilePath;\n\t\t\t\t\tthis.$emit(\"ok\", {\n\t\t\t\t\t\tpath: path\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tcomplete: () => {\n\t\t\t\t\tuni.hideLoading();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tasync cropAppH5() {\n\t\t\tvar mx = this.computeMatrix();\n\t\t\tthis.target = {\n\t\t\t\twidth: mx.tw,\n\t\t\t\theight: mx.th\n\t\t\t};\n\t\t\tuni.showLoading({\n\t\t\t\ttitle: \"处理中\"\n\t\t\t});\n\t\t\tawait new Promise((resolve) => {\n\t\t\t\tsetTimeout(() => {\n                    resolve();\n                }, 200);\n\t\t\t});\n\t\t\tvar context = uni.createCanvasContext(this.canvasId, this);\n\t\t\tcontext.save();\n\t\t\tcontext.rotate(this.rotate * Math.PI / 180);\n\t\t\tcontext.drawImage(this.url, mx.sx, mx.sy, mx.sw, mx.sh, mx.dx, mx.dy, mx.dw, mx.dh);\n\t\t\tcontext.restore();\n\t\t\tawait new Promise((resolve) => {\n\t\t\t\tcontext.draw(false, () => {\n                    resolve();\n                });\n\t\t\t});\n\t\t\tuni.canvasToTempFilePath({\n\t\t\t\tcanvasId: this.canvasId,\n\t\t\t\tdestWidth: mx.tw,\n\t\t\t\tdestHeight: mx.th,\n\t\t\t\tsuccess: (rst) => {\n\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\tvar path = rst.tempFilePath;\n\t\t\t\t\t// #ifdef H5\n\t\t\t\t\tvar base64 = path;\n\t\t\t\t\tpath = this.parseBlob(path);\n\t\t\t\t\tthis.$emit(\"ok\", {\n\t\t\t\t\t\tpath: path,\n\t\t\t\t\t\tbase64: base64\n\t\t\t\t\t});\n\t\t\t\t\t// #endif\n\t\t\t\t\t// #ifdef APP-PLUS\n\t\t\t\t\tthis.$emit(\"ok\", {\n\t\t\t\t\t\tpath: path\n\t\t\t\t\t});\n\t\t\t\t\t// #endif\n\t\t\t\t},\n\t\t\t\tfail() {\n\t\t\t\t\tuni.hideLoading();\n\t\t\t\t},\n\t\t\t\tcomplete: () => {\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t}, this);\n\t\t},\n\t\tcomputeMatrix() {\n\t\t\tvar width = this.width;\n\t\t\tvar height = this.height;\n\t\t\tvar mul = this.image.width / this.real.width;\n\t\t\tif (this.rotate % 180 != 0) {\n\t\t\t\tmul = this.image.height / this.real.width;\n\t\t\t}\n\t\t\tif (this.mode != \"fixed\") {\n\t\t\t\twidth = this.frame.width / mul;\n\t\t\t\theight = this.frame.height / mul;\n\t\t\t}\n\t\t\tvar rate = width / height;\n\t\t\tif (width > this.maxWidth) {\n\t\t\t\twidth = this.maxWidth;\n\t\t\t\theight = width / rate;\n\t\t\t}\n\t\t\tif (height > this.maxHeight) {\n\t\t\t\theight = this.maxHeight;\n\t\t\t\twidth = height * rate;\n\t\t\t}\n\t\t\tvar sx = (this.frame.left - this.image.left) / mul;\n\t\t\tvar sy = (this.frame.top - this.image.top) / mul;\n\t\t\tvar sw = this.frame.width / mul;\n\t\t\tvar sh = this.frame.height / mul;\n\t\t\tvar ox = sx + sw / 2;\n\t\t\tvar oy = sy + sh / 2;\n\t\t\tif (this.rotate % 180 != 0) {\n\t\t\t\tvar temp = sw;\n\t\t\t\tsw = sh;\n\t\t\t\tsh = temp;\n\t\t\t}\n\t\t\tvar angle = this.rotate % 360;\n\t\t\tif (angle < 0) {\n\t\t\t\tangle += 360;\n\t\t\t}\n\t\t\tif (angle == 270) {\n\t\t\t\tvar x = this.real.width - oy;\n\t\t\t\tvar y = ox;\n\t\t\t\tox = x;\n\t\t\t\toy = y;\n\t\t\t}\n\t\t\tif (angle == 180) {\n\t\t\t\tvar x = this.real.width - ox;\n\t\t\t\tvar y = this.real.height - oy;\n\t\t\t\tox = x;\n\t\t\t\toy = y;\n\t\t\t}\n\t\t\tif (angle == 90) {\n\t\t\t\tvar x = oy;\n\t\t\t\tvar y = this.real.height - ox;\n\t\t\t\tox = x;\n\t\t\t\toy = y;\n\t\t\t}\n\t\t\tsx = ox - sw / 2;\n\t\t\tsy = oy - sh / 2;\n\t\t\tvar dr = {x: 0, y: 0, w: width, h: height};\n\t\t\tdr = this.parseRect(dr, -this.rotate);\n\t\t\treturn {\n\t\t\t\ttw: width,\n\t\t\t\tth: height,\n\t\t\t\tsx: sx,\n\t\t\t\tsy: sy,\n\t\t\t\tsw: sw,\n\t\t\t\tsh: sh,\n\t\t\t\tdx: dr.x,\n\t\t\t\tdy: dr.y,\n\t\t\t\tdw: dr.w,\n\t\t\t\tdh: dr.h\n\t\t\t};\n\t\t},\n\t\tparsePoint(point, angle) {\n\t\t\tvar result = {};\n\t\t\tresult.x = point.x * Math.cos(angle * Math.PI / 180) - point.y * Math.sin(angle * Math.PI / 180);\n\t\t\tresult.y = point.y * Math.cos(angle * Math.PI / 180) + point.x * Math.sin(angle * Math.PI / 180);\n\t\t\treturn result;\n\t\t},\n\t\tparseRect(rect, angle) {\n\t\t\tvar x1 = rect.x;\n\t\t\tvar y1 = rect.y;\n\t\t\tvar x2 = rect.x + rect.w;\n\t\t\tvar y2 = rect.y + rect.h;\n\t\t\tvar p1 = this.parsePoint({x: x1, y: y1}, angle);\n\t\t\tvar p2 = this.parsePoint({x: x2, y: y2}, angle);\n\t\t\tvar result = {};\n\t\t\tresult.x = Math.min(p1.x, p2.x);\n\t\t\tresult.y = Math.min(p1.y, p2.y);\n\t\t\tresult.w = Math.abs(p2.x - p1.x);\n\t\t\tresult.h = Math.abs(p2.y - p1.y);\n\t\t\treturn result;\n\t\t},\n\t\tparseBlob(base64) {\n\t\t\tvar arr = base64.split(',');\n\t\t\tvar mime = arr[0].match(/:(.*?);/)[1];\n\t\t\tvar bstr = atob(arr[1]);\n\t\t\tvar n = bstr.length;\n\t\t\tvar u8arr = new Uint8Array(n);\n\t\t\tfor(var i = 0; i < n; i++) {\n\t\t\t\tu8arr[i] = bstr.charCodeAt(i);\n\t\t\t}\n\t\t\tvar url = URL || webkitURL;\n\t\t\treturn url.createObjectURL(new Blob([u8arr], {type: mime}));\n\t\t},\n\t}\n};\n</script>\n\n<script module=\"mwx\" lang=\"wxs\">\n\tvar mode = \"\";\n\tvar rotate = 0;\n\tvar image = {\n\t\tleft: 0,\n\t\ttop: 0,\n\t\twidth: 0,\n\t\theight: 0\n\t};\n\tvar frame = {\n\t\tleft: 0,\n\t\ttop: 0,\n\t\twidth: 0,\n\t\theight: 0\n\t};\n\tvar touches = [];\n\tvar touchType = \"\";\n\tvar start = {\n\t\tframe: {\n\t\t\tleft: 0,\n\t\t\ttop: 0,\n\t\t\twidth: 0,\n\t\t\theight: 0\n\t\t},\n\t\timage: {\n\t\t\tleft: 0,\n\t\t\ttop: 0,\n\t\t\twidth: 0,\n\t\t\theight: 0\n\t\t}\n\t};\n\tfunction changeMode(value) {\n        if (null == value) {\n            return;\n        }\n\t\tmode = value;\n\t}\n\tfunction changeRotate(value, old, oi, instance) {\n        if (null == value) {\n            return;\n        }\n\t\trotate = value;\n\t\tdelayUpdateStyle(oi);\n\t}\n\tfunction changeImage(value, old, oi, instance) {\n        if (null == value) {\n            return;\n        }\n\t\timage = value;\n\t\tdelayUpdateStyle(oi);\n\t}\n\tfunction changeFrame(value, old, oi, instance) {\n        if (null == value) {\n            return;\n        }\n\t\tframe = value;\n\t\tdelayUpdateStyle(oi);\n\t}\n    function delayUpdateStyle(oi) {\n        // #ifdef APP-PLUS || H5\n        setTimeout(() => {\n            updateStyle(oi);\n        });\n        // #endif\n        // #ifdef MP-WEIXIN\n        updateStyle(oi);\n        // #endif\n    }\n\tfunction touchstart(event, oi) {\n\t\t// #ifdef APP-PLUS || H5\n        if (event.preventDefault) {\n            event.preventDefault();\n        }\n        if (event.stopPropagation) {\n            event.stopPropagation();\n        }\n\t\t// #endif\n\t\ttouches = event.touches;\n\t\tvar instance = event.instance;\n\t\tif (instance.hasClass(\"body\")) {\n\t\t\ttouchType = \"body\";\n\t\t} else if (instance.hasClass(\"frame-left-top\")) {\n\t\t\ttouchType = \"left-top\";\n\t\t} else if (instance.hasClass(\"frame-left-bottom\")) {\n\t\t\ttouchType = \"left-bottom\";\n\t\t} else if (instance.hasClass(\"frame-right-top\")) {\n\t\t\ttouchType = \"right-top\";\n\t\t} else if (instance.hasClass(\"frame-right-bottom\")) {\n\t\t\ttouchType = \"right-bottom\";\n\t\t}\n\t\tstart.frame.left = frame.left;\n\t\tstart.frame.top = frame.top;\n\t\tstart.frame.width = frame.width;\n\t\tstart.frame.height = frame.height;\n\t\tstart.image.left = image.left;\n\t\tstart.image.top = image.top;\n\t\tstart.image.width = image.width;\n\t\tstart.image.height = image.height;\n\t\treturn false;\n\t}\n\tfunction touchmove(event, oi) {\n\t\t// #ifdef APP-PLUS || H5\n\t\tif (event.preventDefault) {\n\t\t    event.preventDefault();\n\t\t}\n\t\tif (event.stopPropagation) {\n\t\t    event.stopPropagation();\n\t\t}\n\t\t// #endif\n\t\tvar instance = event.instance;\n\t\tif (touches.length == 1) {\n\t\t\tif (touchType == \"body\") {\n\t\t\t\tmoveImage(touches[0], event.touches[0], oi);\n\t\t\t} else {\n\t\t\t\tscaleFrame(touches[0], event.touches[0], oi);\n\t\t\t}\n\t\t} else if (touches.length == 2 && event.touches.length == 2) {\n\t\t\tvar ta = touches[0];\n\t\t\tvar tb = touches[1];\n\t\t\tvar tc = event.touches[0];\n\t\t\tvar td = event.touches[1];\n\t\t\tif (ta.identifier != tc.identifier) {\n\t\t\t\tvar temp = tc;\n\t\t\t\ttc = td;\n\t\t\t\ttd = temp;\n\t\t\t}\n\t\t\tscaleImage(ta, tb, tc, td, oi);\n\t\t}\n\t}\n\tfunction touchend(event, oi) {\n\t\ttouches = [];\n\t\toi.callMethod(\"updateData\", {frame: frame, image: image});\n\t}\n\tfunction touchcancel(event, oi) {\n\t\ttouches = [];\n\t\toi.callMethod(\"updateData\", {frame: frame, image: image});\n\t}\n\tfunction moveImage(ta, tb, oi) {\n\t\tvar ax = tb.clientX - ta.clientX;\n\t\tvar ay = tb.clientY - ta.clientY;\n\t\timage.left = start.image.left + ax;\n\t\timage.top = start.image.top + ay;\n\t\tvar left = frame.left;\n\t\tvar top = frame.top;\n\t\tvar width = frame.width;\n\t\tvar height = frame.height;\n\t\tif (image.left > left) {\n\t\t\timage.left = left;\n\t\t}\n\t\tif (image.top > top) {\n\t\t\timage.top = top;\n\t\t}\n\t\tif (image.left + image.width < left + width) {\n\t\t\timage.left = left + width - image.width; \n\t\t}\n\t\tif (image.top + image.height < top + height) {\n\t\t\timage.top = top + height - image.height;\n\t\t}\n\t\tupdateStyle(oi);\n\t}\n\tfunction scaleImage(ta, tb, tc, td, oi) {\n\t\tvar x1 = ta.clientX;\n\t\tvar y1 = ta.clientY;\n\t\tvar x2 = tb.clientX;\n\t\tvar y2 = tb.clientY;\n\t\tvar x3 = tc.clientX;\n\t\tvar y3 = tc.clientY;\n\t\tvar x4 = td.clientX;\n\t\tvar y4 = td.clientY;\n\t\tvar ol = Math.sqrt((x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2));\n\t\tvar el = Math.sqrt((x3 - x4) * (x3 - x4) + (y3 - y4) * (y3 - y4));\n\t\tvar ocx = (x1 + x2) / 2;\n\t\tvar ocy = (y1 + y2) / 2;\n\t\tvar ecx = (x3 + x4) / 2;\n\t\tvar ecy = (y3 + y4) / 2;\n\t\tvar ax = ecx - ocx;\n\t\tvar ay = ecy - ocy;\n\t\tvar scale = el / ol;\n\t\tif (start.image.width * scale < frame.width) {\n\t\t\tscale = frame.width / start.image.width;\n\t\t}\n\t\tif (start.image.height * scale < frame.height) {\n\t\t\tscale = frame.height / start.image.height;\n\t\t}\n\t\tif (start.image.width * scale < frame.width) {\n\t\t\tscale = frame.width / start.image.width;\n\t\t}\n\t\timage.left = start.image.left + ax - (ocx - start.image.left) * (scale - 1);\n\t\timage.top = start.image.top + ay - (ocy - start.image.top) * (scale - 1);\n\t\timage.width = start.image.width * scale;\n\t\timage.height = start.image.height * scale;\n\t\tif (image.left > frame.left) {\n\t\t\timage.left = frame.left;\n\t\t}\n\t\tif (image.top > frame.top) {\n\t\t\timage.top = frame.top;\n\t\t}\n\t\tif (image.left + image.width < frame.left + frame.width) {\n\t\t\timage.left = frame.left + frame.width - image.width; \n\t\t}\n\t\tif (image.top + image.height < frame.top + frame.height) {\n\t\t\timage.top = frame.top + frame.height - image.height; \n\t\t}\n\t\tupdateStyle(oi);\n\t}\n\tfunction scaleFrame(ta, tb, oi) {\n\t\tvar ax = tb.clientX - ta.clientX;\n\t\tvar ay = tb.clientY - ta.clientY;\n\t\tvar x1 = start.frame.left;\n\t\tvar y1 = start.frame.top;\n\t\tvar x2 = start.frame.left + start.frame.width;\n\t\tvar y2 = start.frame.top + start.frame.height;\n\t\tvar cx1 = false;\n\t\tvar cy1 = false;\n\t\tvar cx2 = false;\n\t\tvar cy2 = false;\n\t\tvar mix = 30;\n\t\tvar rate = frame.width / frame.height;\n\t\tif (touchType == \"left-top\") {\n\t\t\tx1 += ax;\n\t\t\ty1 += ay;\n\t\t\tcx1 = true;\n\t\t\tcy1 = true;\n\t\t} else if (touchType == \"left-bottom\") {\n\t\t\tx1 += ax;\n\t\t\ty2 += ay;\n\t\t\tcx1 = true;\n\t\t\tcy2 = true;\n\t\t} else if (touchType == \"right-top\") {\n\t\t\tx2 += ax;\n\t\t\ty1 += ay;\n\t\t\tcx2 = true;\n\t\t\tcy1 = true;\n\t\t} else if (touchType == \"right-bottom\") {\n\t\t\tx2 += ax;\n\t\t\ty2 += ay;\n\t\t\tcx2 = true;\n\t\t\tcy2 = true;\n\t\t}\n\t\tif (x1 < image.left) {\n\t\t\tx1 = image.left;\n\t\t}\n\t\tif (y1 < image.top) {\n\t\t\ty1 = image.top;\n\t\t}\n\t\tif (x2 > image.left + image.width) {\n\t\t\tx2 = image.left + image.width;\n\t\t}\n\t\tif (y2 > image.top + image.height) {\n\t\t\ty2 = image.top + image.height;\n\t\t}\n\t\tif (cx1) {\n\t\t\tif (x1 > x2 - mix) {\n\t\t\t\tx1 = x2 - mix;\n\t\t\t}\n\t\t}\n\t\tif (cy1) {\n\t\t\tif (y1 > y2 - mix) {\n\t\t\t\ty1 = y2 - mix;\n\t\t\t}\n\t\t}\n\t\tif (cx2) {\n\t\t\tif (x2 < x1 + mix) {\n\t\t\t\tx2 = x1 + mix;\n\t\t\t}\n\t\t}\n\t\tif (cy2) {\n\t\t\tif (y2 < y1 + mix) {\n\t\t\t\ty2 = y1 + mix;\n\t\t\t}\n\t\t}\n\t\tif (cx1) {\n\t\t\tif (mode != \"free\") {\n\t\t\t\tvar val = x2 - rate * (y2 - y1);\n\t\t\t\tif (x1 < val) {\n\t\t\t\t\tx1 = val;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (cy1) {\n\t\t\tif (mode != \"free\") {\n\t\t\t\tvar val = y2 - (x2 - x1) / rate;\n\t\t\t\tif (y1 < val) {\n\t\t\t\t\ty1 = val;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (cx2) {\n\t\t\tif (mode != \"free\") {\n\t\t\t\tvar val = rate * (y2 - y1) + x1;\n\t\t\t\tif (x2 > val) {\n\t\t\t\t\tx2 = val;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (cy2) {\n\t\t\tif (mode != \"free\") {\n\t\t\t\tvar val = (x2 - x1) / rate + y1;\n\t\t\t\tif (y2 > val) {\n\t\t\t\t\ty2 = val;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tframe.left = x1;\n\t\tframe.top = y1;\n\t\tframe.width = x2 - x1;\n\t\tframe.height = y2 - y1;\n\t\tupdateStyle(oi);\n\t}\n\tfunction updateStyle(oi) {\n\t\toi.selectComponent(\".frame\").setStyle({\n\t\t\t\"left\": frame.left + \"px\",\n\t\t\t\"top\": frame.top + \"px\",\n\t\t\t\"width\": frame.width + \"px\",\n\t\t\t\"height\": frame.height + \"px\"\n\t\t});\n\t\toi.selectComponent(\".image-wrap\").setStyle({\n\t\t\t\"left\": image.left + \"px\",\n\t\t\t\"top\": image.top + \"px\",\n\t\t\t\"width\": image.width + \"px\",\n\t\t\t\"height\": image.height + \"px\"\n\t\t});\n\t\toi.selectComponent(\".image-rect\").setStyle({\n\t\t\t\"left\": image.left - frame.left + \"px\",\n\t\t\t\"top\": image.top - frame.top + \"px\",\n\t\t\t\"width\": image.width + \"px\",\n\t\t\t\"height\": image.height + \"px\"\n\t\t});\n\t\tvar left = 0;\n\t\tvar top = 0;\n\t\tvar width = image.width;\n\t\tvar height = image.height;\n\t\tif (rotate % 180 != 0) {\n\t\t\twidth = image.height;\n\t\t\theight = image.width;\n\t\t\ttop = width / 2 - height / 2;\n\t\t\tleft = height / 2 - width/ 2;\n\t\t}\n\t\toi.selectComponent(\".image-wrap .image\").setStyle({\n\t\t\t\"left\": left + \"px\",\n\t\t\t\"top\": top + \"px\",\n\t\t\t\"width\": width + \"px\",\n\t\t\t\"height\": height + \"px\",\n\t\t\t\"transform\": \"rotate(\" + rotate + \"deg)\"\n\t\t});\n\t\toi.selectComponent(\".image-rect .image\").setStyle({\n\t\t\t\"left\": left + \"px\",\n\t\t\t\"top\": top + \"px\",\n\t\t\t\"width\": width + \"px\",\n\t\t\t\"height\": height + \"px\",\n\t\t\t\"transform\": \"rotate(\" + rotate + \"deg)\"\n\t\t});\n\t}\n\tmodule.exports = {\n\t\tchangeMode: changeMode,\n\t\tchangeRotate: changeRotate,\n\t\tchangeImage: changeImage,\n\t\tchangeFrame: changeFrame,\n\t\ttouchstart: touchstart,\n\t\ttouchmove: touchmove,\n\t\ttouchend: touchend,\n\t\ttouchcancel: touchcancel\n\t};\n</script>\n\n<style scoped>\n.panel {\n\tposition: fixed;\n\twidth: 100%;\n\theight: 100%;\n\ttop: 0;\n\tleft: 0;\n\tbottom: 0;\n\tz-index: 1000;\n\toverflow: hidden;\n}\n.canvas {\n\tposition: absolute;\n\ttop: 5000px;\n\tleft: 5000px;\n}\n.toolbar {\n\tposition: absolute;\n\twidth: 100%;\n\theight: 100rpx;\n\tleft: 0rpx;\n\tbottom: 0rpx;\n\tdisplay: flex;\n\tjustify-content: space-around;\n\talign-items: center;\n}\n.btn-cancel {\n\tfont-size: 40rpx;\n\tcolor: #d5dfe5;\n\tfont-weight: bold;\n}\n.btn-ok {\n\tfont-size: 40rpx;\n\tcolor: #FFFFFF;\n\tfont-weight: bold;\n}\n.btn-rotate {\n\tfont-size: 40rpx;\n\tcolor: #d5dfe5;\n\tfont-weight: bold;\n}\n.body {\n\tposition: absolute;\n\tleft: 0rpx;\n\tright: 0rpx;\n\ttop: 0rpx;\n\tbottom: 0rpx;\n\tbackground: black;\n\toverflow: hidden;\n}\n.mask {\n\tposition: absolute;\n\tleft: 0rpx;\n\tright: 0rpx;\n\ttop: 0rpx;\n\tbottom: 0rpx;\n\tbackground: black;\n\topacity: 0.4;\n}\n.plank {\n\tposition: absolute;\n\tleft: 0rpx;\n\tright: 0rpx;\n\ttop: 0rpx;\n\tbottom: 0rpx;\n}\n.image-wrap {\n\tposition: absolute;\n}\n.image-rect {\n\tposition: absolute;\n}\n.image {\n\tposition: absolute;\n}\n.frame {\n\tposition: absolute;\n\tleft: 100px;\n\ttop: 100px;\n\twidth: 200px;\n\theight: 200px;\n}\n.rect {\n\tposition: absolute;\n\tleft: -2px;\n\ttop: -2px;\n\twidth: 100%;\n\theight: 100%;\n\tborder: 2px solid white;\n\toverflow: hidden;\n\tbox-sizing:content-box;\n}\n.line-one {\n\tposition: absolute;\n\twidth: 100%;\n\theight: 1px;\n\tbackground: white;\n\tleft: 0;\n\ttop: 33.3%;\n\tbox-sizing:content-box;\n}\n.line-two {\n\tposition: absolute;\n\twidth: 100%;\n\theight: 1px;\n\tbackground: white;\n\tleft: 0;\n\ttop: 66.7%;\n\tbox-sizing:content-box;\n}\n.line-three {\n\tposition: absolute;\n\twidth: 1px;\n\theight: 100%;\n\tbackground: white;\n\ttop: 0;\n\tleft: 33.3%;\n\tbox-sizing:content-box;\n}\n.line-four {\n\tposition: absolute;\n\twidth: 1px;\n\theight: 100%;\n\tbackground: white;\n\ttop: 0;\n\tleft: 66.7%;\n\tbox-sizing:content-box;\n}\n.frame-left-top {\n\tposition: absolute;\n\twidth: 20px;\n\theight: 20px;\n\tleft: -6px;\n\ttop: -6px;\n\tborder-left: 4px solid #3BCDE0;\n\tborder-top: 4px solid #3BCDE0;\n\tbox-sizing:content-box;\n}\n.frame-left-bottom {\n\tposition: absolute;\n\twidth: 20px;\n\theight: 20px;\n\tleft: -6px;\n\tbottom: -6px;\n\tborder-left: 4px solid #3BCDE0;\n\tborder-bottom: 4px solid #3BCDE0;\n\tbox-sizing:content-box;\n}\n.frame-right-top {\n\tposition: absolute;\n\twidth: 20px;\n\theight: 20px;\n\tright: -6px;\n\ttop: -6px;\n\tborder-right: 4px solid #3BCDE0;\n\tborder-top: 4px solid #3BCDE0;\n\tbox-sizing:content-box;\n}\n.frame-right-bottom {\n\tposition: absolute;\n\twidth: 20px;\n\theight: 20px;\n\tright: -6px;\n\tbottom: -6px;\n\tborder-right: 4px solid #3BCDE0;\n\tborder-bottom: 4px solid #3BCDE0;\n\tbox-sizing:content-box;\n}\n.transit {\n\ttransition: width 0.3s, height 0.3s, left 0.3s, top 0.3s, transform 0.3s;\n}\n</style>\n","import mod from \"-!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ksp-cropper.vue?vue&type=style&index=0&id=e8989f18&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ksp-cropper.vue?vue&type=style&index=0&id=e8989f18&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1720169978072\n      var cssReload = require(\"/Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import mod from \"-!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-filter-loader/index.js!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ksp-cropper.vue?vue&type=custom&index=0&blockType=script&module=mwx&lang=wxs\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-filter-loader/index.js!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ksp-cropper.vue?vue&type=custom&index=0&blockType=script&module=mwx&lang=wxs\"","export default function (Component) {\n       if(!Component.options.wxsCallMethods){\n         Component.options.wxsCallMethods = []\n       }\n       Component.options.wxsCallMethods.push('updateData')\n     }","import { render, staticRenderFns, recyclableRender, components } from \"./ksp-cropper.vue?vue&type=template&id=e8989f18&scoped=true&filter-modules=eyJtd3giOnsidHlwZSI6InNjcmlwdCIsImNvbnRlbnQiOiJ2YXIgbW9kZSA9IFwiXCI7XG5cdHZhciByb3RhdGUgPSAwO1xuXHR2YXIgaW1hZ2UgPSB7XG5cdFx0bGVmdDogMCxcblx0XHR0b3A6IDAsXG5cdFx0d2lkdGg6IDAsXG5cdFx0aGVpZ2h0OiAwXG5cdH07XG5cdHZhciBmcmFtZSA9IHtcblx0XHRsZWZ0OiAwLFxuXHRcdHRvcDogMCxcblx0XHR3aWR0aDogMCxcblx0XHRoZWlnaHQ6IDBcblx0fTtcblx0dmFyIHRvdWNoZXMgPSBbXTtcblx0dmFyIHRvdWNoVHlwZSA9IFwiXCI7XG5cdHZhciBzdGFydCA9IHtcblx0XHRmcmFtZToge1xuXHRcdFx0bGVmdDogMCxcblx0XHRcdHRvcDogMCxcblx0XHRcdHdpZHRoOiAwLFxuXHRcdFx0aGVpZ2h0OiAwXG5cdFx0fSxcblx0XHRpbWFnZToge1xuXHRcdFx0bGVmdDogMCxcblx0XHRcdHRvcDogMCxcblx0XHRcdHdpZHRoOiAwLFxuXHRcdFx0aGVpZ2h0OiAwXG5cdFx0fVxuXHR9O1xuXHRmdW5jdGlvbiBjaGFuZ2VNb2RlKHZhbHVlKSB7XG4gICAgICAgIGlmIChudWxsID09IHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblx0XHRtb2RlID0gdmFsdWU7XG5cdH1cblx0ZnVuY3Rpb24gY2hhbmdlUm90YXRlKHZhbHVlLCBvbGQsIG9pLCBpbnN0YW5jZSkge1xuICAgICAgICBpZiAobnVsbCA9PSB2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cdFx0cm90YXRlID0gdmFsdWU7XG5cdFx0ZGVsYXlVcGRhdGVTdHlsZShvaSk7XG5cdH1cblx0ZnVuY3Rpb24gY2hhbmdlSW1hZ2UodmFsdWUsIG9sZCwgb2ksIGluc3RhbmNlKSB7XG4gICAgICAgIGlmIChudWxsID09IHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblx0XHRpbWFnZSA9IHZhbHVlO1xuXHRcdGRlbGF5VXBkYXRlU3R5bGUob2kpO1xuXHR9XG5cdGZ1bmN0aW9uIGNoYW5nZUZyYW1lKHZhbHVlLCBvbGQsIG9pLCBpbnN0YW5jZSkge1xuICAgICAgICBpZiAobnVsbCA9PSB2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cdFx0ZnJhbWUgPSB2YWx1ZTtcblx0XHRkZWxheVVwZGF0ZVN0eWxlKG9pKTtcblx0fVxuICAgIGZ1bmN0aW9uIGRlbGF5VXBkYXRlU3R5bGUob2kpIHtcblxuXG5cblxuXG5cbiAgICAgICAgdXBkYXRlU3R5bGUob2kpO1xuXG4gICAgfVxuXHRmdW5jdGlvbiB0b3VjaHN0YXJ0KGV2ZW50LCBvaSkge1xuXG5cblxuXG5cblxuXG5cblx0XHR0b3VjaGVzID0gZXZlbnQudG91Y2hlcztcblx0XHR2YXIgaW5zdGFuY2UgPSBldmVudC5pbnN0YW5jZTtcblx0XHRpZiAoaW5zdGFuY2UuaGFzQ2xhc3MoXCJib2R5XCIpKSB7XG5cdFx0XHR0b3VjaFR5cGUgPSBcImJvZHlcIjtcblx0XHR9IGVsc2UgaWYgKGluc3RhbmNlLmhhc0NsYXNzKFwiZnJhbWUtbGVmdC10b3BcIikpIHtcblx0XHRcdHRvdWNoVHlwZSA9IFwibGVmdC10b3BcIjtcblx0XHR9IGVsc2UgaWYgKGluc3RhbmNlLmhhc0NsYXNzKFwiZnJhbWUtbGVmdC1ib3R0b21cIikpIHtcblx0XHRcdHRvdWNoVHlwZSA9IFwibGVmdC1ib3R0b21cIjtcblx0XHR9IGVsc2UgaWYgKGluc3RhbmNlLmhhc0NsYXNzKFwiZnJhbWUtcmlnaHQtdG9wXCIpKSB7XG5cdFx0XHR0b3VjaFR5cGUgPSBcInJpZ2h0LXRvcFwiO1xuXHRcdH0gZWxzZSBpZiAoaW5zdGFuY2UuaGFzQ2xhc3MoXCJmcmFtZS1yaWdodC1ib3R0b21cIikpIHtcblx0XHRcdHRvdWNoVHlwZSA9IFwicmlnaHQtYm90dG9tXCI7XG5cdFx0fVxuXHRcdHN0YXJ0LmZyYW1lLmxlZnQgPSBmcmFtZS5sZWZ0O1xuXHRcdHN0YXJ0LmZyYW1lLnRvcCA9IGZyYW1lLnRvcDtcblx0XHRzdGFydC5mcmFtZS53aWR0aCA9IGZyYW1lLndpZHRoO1xuXHRcdHN0YXJ0LmZyYW1lLmhlaWdodCA9IGZyYW1lLmhlaWdodDtcblx0XHRzdGFydC5pbWFnZS5sZWZ0ID0gaW1hZ2UubGVmdDtcblx0XHRzdGFydC5pbWFnZS50b3AgPSBpbWFnZS50b3A7XG5cdFx0c3RhcnQuaW1hZ2Uud2lkdGggPSBpbWFnZS53aWR0aDtcblx0XHRzdGFydC5pbWFnZS5oZWlnaHQgPSBpbWFnZS5oZWlnaHQ7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cdGZ1bmN0aW9uIHRvdWNobW92ZShldmVudCwgb2kpIHtcblxuXG5cblxuXG5cblxuXG5cdFx0dmFyIGluc3RhbmNlID0gZXZlbnQuaW5zdGFuY2U7XG5cdFx0aWYgKHRvdWNoZXMubGVuZ3RoID09IDEpIHtcblx0XHRcdGlmICh0b3VjaFR5cGUgPT0gXCJib2R5XCIpIHtcblx0XHRcdFx0bW92ZUltYWdlKHRvdWNoZXNbMF0sIGV2ZW50LnRvdWNoZXNbMF0sIG9pKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHNjYWxlRnJhbWUodG91Y2hlc1swXSwgZXZlbnQudG91Y2hlc1swXSwgb2kpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSBpZiAodG91Y2hlcy5sZW5ndGggPT0gMiAmJiBldmVudC50b3VjaGVzLmxlbmd0aCA9PSAyKSB7XG5cdFx0XHR2YXIgdGEgPSB0b3VjaGVzWzBdO1xuXHRcdFx0dmFyIHRiID0gdG91Y2hlc1sxXTtcblx0XHRcdHZhciB0YyA9IGV2ZW50LnRvdWNoZXNbMF07XG5cdFx0XHR2YXIgdGQgPSBldmVudC50b3VjaGVzWzFdO1xuXHRcdFx0aWYgKHRhLmlkZW50aWZpZXIgIT0gdGMuaWRlbnRpZmllcikge1xuXHRcdFx0XHR2YXIgdGVtcCA9IHRjO1xuXHRcdFx0XHR0YyA9IHRkO1xuXHRcdFx0XHR0ZCA9IHRlbXA7XG5cdFx0XHR9XG5cdFx0XHRzY2FsZUltYWdlKHRhLCB0YiwgdGMsIHRkLCBvaSk7XG5cdFx0fVxuXHR9XG5cdGZ1bmN0aW9uIHRvdWNoZW5kKGV2ZW50LCBvaSkge1xuXHRcdHRvdWNoZXMgPSBbXTtcblx0XHRvaS5jYWxsTWV0aG9kKFwidXBkYXRlRGF0YVwiLCB7ZnJhbWU6IGZyYW1lLCBpbWFnZTogaW1hZ2V9KTtcblx0fVxuXHRmdW5jdGlvbiB0b3VjaGNhbmNlbChldmVudCwgb2kpIHtcblx0XHR0b3VjaGVzID0gW107XG5cdFx0b2kuY2FsbE1ldGhvZChcInVwZGF0ZURhdGFcIiwge2ZyYW1lOiBmcmFtZSwgaW1hZ2U6IGltYWdlfSk7XG5cdH1cblx0ZnVuY3Rpb24gbW92ZUltYWdlKHRhLCB0Yiwgb2kpIHtcblx0XHR2YXIgYXggPSB0Yi5jbGllbnRYIC0gdGEuY2xpZW50WDtcblx0XHR2YXIgYXkgPSB0Yi5jbGllbnRZIC0gdGEuY2xpZW50WTtcblx0XHRpbWFnZS5sZWZ0ID0gc3RhcnQuaW1hZ2UubGVmdCArIGF4O1xuXHRcdGltYWdlLnRvcCA9IHN0YXJ0LmltYWdlLnRvcCArIGF5O1xuXHRcdHZhciBsZWZ0ID0gZnJhbWUubGVmdDtcblx0XHR2YXIgdG9wID0gZnJhbWUudG9wO1xuXHRcdHZhciB3aWR0aCA9IGZyYW1lLndpZHRoO1xuXHRcdHZhciBoZWlnaHQgPSBmcmFtZS5oZWlnaHQ7XG5cdFx0aWYgKGltYWdlLmxlZnQgPiBsZWZ0KSB7XG5cdFx0XHRpbWFnZS5sZWZ0ID0gbGVmdDtcblx0XHR9XG5cdFx0aWYgKGltYWdlLnRvcCA%2BIHRvcCkge1xuXHRcdFx0aW1hZ2UudG9wID0gdG9wO1xuXHRcdH1cblx0XHRpZiAoaW1hZ2UubGVmdCArIGltYWdlLndpZHRoIDwgbGVmdCArIHdpZHRoKSB7XG5cdFx0XHRpbWFnZS5sZWZ0ID0gbGVmdCArIHdpZHRoIC0gaW1hZ2Uud2lkdGg7IFxuXHRcdH1cblx0XHRpZiAoaW1hZ2UudG9wICsgaW1hZ2UuaGVpZ2h0IDwgdG9wICsgaGVpZ2h0KSB7XG5cdFx0XHRpbWFnZS50b3AgPSB0b3AgKyBoZWlnaHQgLSBpbWFnZS5oZWlnaHQ7XG5cdFx0fVxuXHRcdHVwZGF0ZVN0eWxlKG9pKTtcblx0fVxuXHRmdW5jdGlvbiBzY2FsZUltYWdlKHRhLCB0YiwgdGMsIHRkLCBvaSkge1xuXHRcdHZhciB4MSA9IHRhLmNsaWVudFg7XG5cdFx0dmFyIHkxID0gdGEuY2xpZW50WTtcblx0XHR2YXIgeDIgPSB0Yi5jbGllbnRYO1xuXHRcdHZhciB5MiA9IHRiLmNsaWVudFk7XG5cdFx0dmFyIHgzID0gdGMuY2xpZW50WDtcblx0XHR2YXIgeTMgPSB0Yy5jbGllbnRZO1xuXHRcdHZhciB4NCA9IHRkLmNsaWVudFg7XG5cdFx0dmFyIHk0ID0gdGQuY2xpZW50WTtcblx0XHR2YXIgb2wgPSBNYXRoLnNxcnQoKHgxIC0geDIpICogKHgxIC0geDIpICsgKHkxIC0geTIpICogKHkxIC0geTIpKTtcblx0XHR2YXIgZWwgPSBNYXRoLnNxcnQoKHgzIC0geDQpICogKHgzIC0geDQpICsgKHkzIC0geTQpICogKHkzIC0geTQpKTtcblx0XHR2YXIgb2N4ID0gKHgxICsgeDIpIC8gMjtcblx0XHR2YXIgb2N5ID0gKHkxICsgeTIpIC8gMjtcblx0XHR2YXIgZWN4ID0gKHgzICsgeDQpIC8gMjtcblx0XHR2YXIgZWN5ID0gKHkzICsgeTQpIC8gMjtcblx0XHR2YXIgYXggPSBlY3ggLSBvY3g7XG5cdFx0dmFyIGF5ID0gZWN5IC0gb2N5O1xuXHRcdHZhciBzY2FsZSA9IGVsIC8gb2w7XG5cdFx0aWYgKHN0YXJ0LmltYWdlLndpZHRoICogc2NhbGUgPCBmcmFtZS53aWR0aCkge1xuXHRcdFx0c2NhbGUgPSBmcmFtZS53aWR0aCAvIHN0YXJ0LmltYWdlLndpZHRoO1xuXHRcdH1cblx0XHRpZiAoc3RhcnQuaW1hZ2UuaGVpZ2h0ICogc2NhbGUgPCBmcmFtZS5oZWlnaHQpIHtcblx0XHRcdHNjYWxlID0gZnJhbWUuaGVpZ2h0IC8gc3RhcnQuaW1hZ2UuaGVpZ2h0O1xuXHRcdH1cblx0XHRpZiAoc3RhcnQuaW1hZ2Uud2lkdGggKiBzY2FsZSA8IGZyYW1lLndpZHRoKSB7XG5cdFx0XHRzY2FsZSA9IGZyYW1lLndpZHRoIC8gc3RhcnQuaW1hZ2Uud2lkdGg7XG5cdFx0fVxuXHRcdGltYWdlLmxlZnQgPSBzdGFydC5pbWFnZS5sZWZ0ICsgYXggLSAob2N4IC0gc3RhcnQuaW1hZ2UubGVmdCkgKiAoc2NhbGUgLSAxKTtcblx0XHRpbWFnZS50b3AgPSBzdGFydC5pbWFnZS50b3AgKyBheSAtIChvY3kgLSBzdGFydC5pbWFnZS50b3ApICogKHNjYWxlIC0gMSk7XG5cdFx0aW1hZ2Uud2lkdGggPSBzdGFydC5pbWFnZS53aWR0aCAqIHNjYWxlO1xuXHRcdGltYWdlLmhlaWdodCA9IHN0YXJ0LmltYWdlLmhlaWdodCAqIHNjYWxlO1xuXHRcdGlmIChpbWFnZS5sZWZ0ID4gZnJhbWUubGVmdCkge1xuXHRcdFx0aW1hZ2UubGVmdCA9IGZyYW1lLmxlZnQ7XG5cdFx0fVxuXHRcdGlmIChpbWFnZS50b3AgPiBmcmFtZS50b3ApIHtcblx0XHRcdGltYWdlLnRvcCA9IGZyYW1lLnRvcDtcblx0XHR9XG5cdFx0aWYgKGltYWdlLmxlZnQgKyBpbWFnZS53aWR0aCA8IGZyYW1lLmxlZnQgKyBmcmFtZS53aWR0aCkge1xuXHRcdFx0aW1hZ2UubGVmdCA9IGZyYW1lLmxlZnQgKyBmcmFtZS53aWR0aCAtIGltYWdlLndpZHRoOyBcblx0XHR9XG5cdFx0aWYgKGltYWdlLnRvcCArIGltYWdlLmhlaWdodCA8IGZyYW1lLnRvcCArIGZyYW1lLmhlaWdodCkge1xuXHRcdFx0aW1hZ2UudG9wID0gZnJhbWUudG9wICsgZnJhbWUuaGVpZ2h0IC0gaW1hZ2UuaGVpZ2h0OyBcblx0XHR9XG5cdFx0dXBkYXRlU3R5bGUob2kpO1xuXHR9XG5cdGZ1bmN0aW9uIHNjYWxlRnJhbWUodGEsIHRiLCBvaSkge1xuXHRcdHZhciBheCA9IHRiLmNsaWVudFggLSB0YS5jbGllbnRYO1xuXHRcdHZhciBheSA9IHRiLmNsaWVudFkgLSB0YS5jbGllbnRZO1xuXHRcdHZhciB4MSA9IHN0YXJ0LmZyYW1lLmxlZnQ7XG5cdFx0dmFyIHkxID0gc3RhcnQuZnJhbWUudG9wO1xuXHRcdHZhciB4MiA9IHN0YXJ0LmZyYW1lLmxlZnQgKyBzdGFydC5mcmFtZS53aWR0aDtcblx0XHR2YXIgeTIgPSBzdGFydC5mcmFtZS50b3AgKyBzdGFydC5mcmFtZS5oZWlnaHQ7XG5cdFx0dmFyIGN4MSA9IGZhbHNlO1xuXHRcdHZhciBjeTEgPSBmYWxzZTtcblx0XHR2YXIgY3gyID0gZmFsc2U7XG5cdFx0dmFyIGN5MiA9IGZhbHNlO1xuXHRcdHZhciBtaXggPSAzMDtcblx0XHR2YXIgcmF0ZSA9IGZyYW1lLndpZHRoIC8gZnJhbWUuaGVpZ2h0O1xuXHRcdGlmICh0b3VjaFR5cGUgPT0gXCJsZWZ0LXRvcFwiKSB7XG5cdFx0XHR4MSArPSBheDtcblx0XHRcdHkxICs9IGF5O1xuXHRcdFx0Y3gxID0gdHJ1ZTtcblx0XHRcdGN5MSA9IHRydWU7XG5cdFx0fSBlbHNlIGlmICh0b3VjaFR5cGUgPT0gXCJsZWZ0LWJvdHRvbVwiKSB7XG5cdFx0XHR4MSArPSBheDtcblx0XHRcdHkyICs9IGF5O1xuXHRcdFx0Y3gxID0gdHJ1ZTtcblx0XHRcdGN5MiA9IHRydWU7XG5cdFx0fSBlbHNlIGlmICh0b3VjaFR5cGUgPT0gXCJyaWdodC10b3BcIikge1xuXHRcdFx0eDIgKz0gYXg7XG5cdFx0XHR5MSArPSBheTtcblx0XHRcdGN4MiA9IHRydWU7XG5cdFx0XHRjeTEgPSB0cnVlO1xuXHRcdH0gZWxzZSBpZiAodG91Y2hUeXBlID09IFwicmlnaHQtYm90dG9tXCIpIHtcblx0XHRcdHgyICs9IGF4O1xuXHRcdFx0eTIgKz0gYXk7XG5cdFx0XHRjeDIgPSB0cnVlO1xuXHRcdFx0Y3kyID0gdHJ1ZTtcblx0XHR9XG5cdFx0aWYgKHgxIDwgaW1hZ2UubGVmdCkge1xuXHRcdFx0eDEgPSBpbWFnZS5sZWZ0O1xuXHRcdH1cblx0XHRpZiAoeTEgPCBpbWFnZS50b3ApIHtcblx0XHRcdHkxID0gaW1hZ2UudG9wO1xuXHRcdH1cblx0XHRpZiAoeDIgPiBpbWFnZS5sZWZ0ICsgaW1hZ2Uud2lkdGgpIHtcblx0XHRcdHgyID0gaW1hZ2UubGVmdCArIGltYWdlLndpZHRoO1xuXHRcdH1cblx0XHRpZiAoeTIgPiBpbWFnZS50b3AgKyBpbWFnZS5oZWlnaHQpIHtcblx0XHRcdHkyID0gaW1hZ2UudG9wICsgaW1hZ2UuaGVpZ2h0O1xuXHRcdH1cblx0XHRpZiAoY3gxKSB7XG5cdFx0XHRpZiAoeDEgPiB4MiAtIG1peCkge1xuXHRcdFx0XHR4MSA9IHgyIC0gbWl4O1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZiAoY3kxKSB7XG5cdFx0XHRpZiAoeTEgPiB5MiAtIG1peCkge1xuXHRcdFx0XHR5MSA9IHkyIC0gbWl4O1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZiAoY3gyKSB7XG5cdFx0XHRpZiAoeDIgPCB4MSArIG1peCkge1xuXHRcdFx0XHR4MiA9IHgxICsgbWl4O1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZiAoY3kyKSB7XG5cdFx0XHRpZiAoeTIgPCB5MSArIG1peCkge1xuXHRcdFx0XHR5MiA9IHkxICsgbWl4O1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZiAoY3gxKSB7XG5cdFx0XHRpZiAobW9kZSAhPSBcImZyZWVcIikge1xuXHRcdFx0XHR2YXIgdmFsID0geDIgLSByYXRlICogKHkyIC0geTEpO1xuXHRcdFx0XHRpZiAoeDEgPCB2YWwpIHtcblx0XHRcdFx0XHR4MSA9IHZhbDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XHRpZiAoY3kxKSB7XG5cdFx0XHRpZiAobW9kZSAhPSBcImZyZWVcIikge1xuXHRcdFx0XHR2YXIgdmFsID0geTIgLSAoeDIgLSB4MSkgLyByYXRlO1xuXHRcdFx0XHRpZiAoeTEgPCB2YWwpIHtcblx0XHRcdFx0XHR5MSA9IHZhbDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XHRpZiAoY3gyKSB7XG5cdFx0XHRpZiAobW9kZSAhPSBcImZyZWVcIikge1xuXHRcdFx0XHR2YXIgdmFsID0gcmF0ZSAqICh5MiAtIHkxKSArIHgxO1xuXHRcdFx0XHRpZiAoeDIgPiB2YWwpIHtcblx0XHRcdFx0XHR4MiA9IHZhbDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XHRpZiAoY3kyKSB7XG5cdFx0XHRpZiAobW9kZSAhPSBcImZyZWVcIikge1xuXHRcdFx0XHR2YXIgdmFsID0gKHgyIC0geDEpIC8gcmF0ZSArIHkxO1xuXHRcdFx0XHRpZiAoeTIgPiB2YWwpIHtcblx0XHRcdFx0XHR5MiA9IHZhbDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XHRmcmFtZS5sZWZ0ID0geDE7XG5cdFx0ZnJhbWUudG9wID0geTE7XG5cdFx0ZnJhbWUud2lkdGggPSB4MiAtIHgxO1xuXHRcdGZyYW1lLmhlaWdodCA9IHkyIC0geTE7XG5cdFx0dXBkYXRlU3R5bGUob2kpO1xuXHR9XG5cdGZ1bmN0aW9uIHVwZGF0ZVN0eWxlKG9pKSB7XG5cdFx0b2kuc2VsZWN0Q29tcG9uZW50KFwiLmZyYW1lXCIpLnNldFN0eWxlKHtcblx0XHRcdFwibGVmdFwiOiBmcmFtZS5sZWZ0ICsgXCJweFwiLFxuXHRcdFx0XCJ0b3BcIjogZnJhbWUudG9wICsgXCJweFwiLFxuXHRcdFx0XCJ3aWR0aFwiOiBmcmFtZS53aWR0aCArIFwicHhcIixcblx0XHRcdFwiaGVpZ2h0XCI6IGZyYW1lLmhlaWdodCArIFwicHhcIlxuXHRcdH0pO1xuXHRcdG9pLnNlbGVjdENvbXBvbmVudChcIi5pbWFnZS13cmFwXCIpLnNldFN0eWxlKHtcblx0XHRcdFwibGVmdFwiOiBpbWFnZS5sZWZ0ICsgXCJweFwiLFxuXHRcdFx0XCJ0b3BcIjogaW1hZ2UudG9wICsgXCJweFwiLFxuXHRcdFx0XCJ3aWR0aFwiOiBpbWFnZS53aWR0aCArIFwicHhcIixcblx0XHRcdFwiaGVpZ2h0XCI6IGltYWdlLmhlaWdodCArIFwicHhcIlxuXHRcdH0pO1xuXHRcdG9pLnNlbGVjdENvbXBvbmVudChcIi5pbWFnZS1yZWN0XCIpLnNldFN0eWxlKHtcblx0XHRcdFwibGVmdFwiOiBpbWFnZS5sZWZ0IC0gZnJhbWUubGVmdCArIFwicHhcIixcblx0XHRcdFwidG9wXCI6IGltYWdlLnRvcCAtIGZyYW1lLnRvcCArIFwicHhcIixcblx0XHRcdFwid2lkdGhcIjogaW1hZ2Uud2lkdGggKyBcInB4XCIsXG5cdFx0XHRcImhlaWdodFwiOiBpbWFnZS5oZWlnaHQgKyBcInB4XCJcblx0XHR9KTtcblx0XHR2YXIgbGVmdCA9IDA7XG5cdFx0dmFyIHRvcCA9IDA7XG5cdFx0dmFyIHdpZHRoID0gaW1hZ2Uud2lkdGg7XG5cdFx0dmFyIGhlaWdodCA9IGltYWdlLmhlaWdodDtcblx0XHRpZiAocm90YXRlICUgMTgwICE9IDApIHtcblx0XHRcdHdpZHRoID0gaW1hZ2UuaGVpZ2h0O1xuXHRcdFx0aGVpZ2h0ID0gaW1hZ2Uud2lkdGg7XG5cdFx0XHR0b3AgPSB3aWR0aCAvIDIgLSBoZWlnaHQgLyAyO1xuXHRcdFx0bGVmdCA9IGhlaWdodCAvIDIgLSB3aWR0aC8gMjtcblx0XHR9XG5cdFx0b2kuc2VsZWN0Q29tcG9uZW50KFwiLmltYWdlLXdyYXAgLmltYWdlXCIpLnNldFN0eWxlKHtcblx0XHRcdFwibGVmdFwiOiBsZWZ0ICsgXCJweFwiLFxuXHRcdFx0XCJ0b3BcIjogdG9wICsgXCJweFwiLFxuXHRcdFx0XCJ3aWR0aFwiOiB3aWR0aCArIFwicHhcIixcblx0XHRcdFwiaGVpZ2h0XCI6IGhlaWdodCArIFwicHhcIixcblx0XHRcdFwidHJhbnNmb3JtXCI6IFwicm90YXRlKFwiICsgcm90YXRlICsgXCJkZWcpXCJcblx0XHR9KTtcblx0XHRvaS5zZWxlY3RDb21wb25lbnQoXCIuaW1hZ2UtcmVjdCAuaW1hZ2VcIikuc2V0U3R5bGUoe1xuXHRcdFx0XCJsZWZ0XCI6IGxlZnQgKyBcInB4XCIsXG5cdFx0XHRcInRvcFwiOiB0b3AgKyBcInB4XCIsXG5cdFx0XHRcIndpZHRoXCI6IHdpZHRoICsgXCJweFwiLFxuXHRcdFx0XCJoZWlnaHRcIjogaGVpZ2h0ICsgXCJweFwiLFxuXHRcdFx0XCJ0cmFuc2Zvcm1cIjogXCJyb3RhdGUoXCIgKyByb3RhdGUgKyBcImRlZylcIlxuXHRcdH0pO1xuXHR9XG5cdG1vZHVsZS5leHBvcnRzID0ge1xuXHRcdGNoYW5nZU1vZGU6IGNoYW5nZU1vZGUsXG5cdFx0Y2hhbmdlUm90YXRlOiBjaGFuZ2VSb3RhdGUsXG5cdFx0Y2hhbmdlSW1hZ2U6IGNoYW5nZUltYWdlLFxuXHRcdGNoYW5nZUZyYW1lOiBjaGFuZ2VGcmFtZSxcblx0XHR0b3VjaHN0YXJ0OiB0b3VjaHN0YXJ0LFxuXHRcdHRvdWNobW92ZTogdG91Y2htb3ZlLFxuXHRcdHRvdWNoZW5kOiB0b3VjaGVuZCxcblx0XHR0b3VjaGNhbmNlbDogdG91Y2hjYW5jZWxcblx0fTsiLCJzdGFydCI6MTE1MzcsImF0dHJzIjp7Im1vZHVsZSI6Im13eCIsImxhbmciOiJ3eHMifSwiZW5kIjoyMDA1MH19&\"\nvar renderjs\nimport script from \"./ksp-cropper.vue?vue&type=script&lang=js&\"\nexport * from \"./ksp-cropper.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ksp-cropper.vue?vue&type=style&index=0&id=e8989f18&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e8989f18\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* custom blocks */\nimport block0 from \"./ksp-cropper.vue?vue&type=custom&index=0&blockType=script&module=mwx&lang=wxs\"\nif (typeof block0 === 'function') block0(component)\n\ncomponent.options.__file = \"uni_modules/ksp-cropper/components/ksp-cropper/ksp-cropper.vue\"\nexport default component.exports"],"sourceRoot":""}