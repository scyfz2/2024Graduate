<view class="home data-v-57280228"><view class="body data-v-57280228"><view class="{{['avatar-container','grid','justify-center','data-v-57280228',type]}}" id="avatar-container" data-event-opts="{{[['touchstart',[['touchStart',['$event']]]],['touchend',[['touchEnd',['$event']]]],['touchmove',[['touchMove',['$event']]]]]}}" catchtouchstart="__e" catchtouchend="__e" catchtouchmove="__e"><view class="avatar-bg-border data-v-57280228"><image class="bg avatar-bg data-v-57280228" id="avatar-bg" src="{{avatarPath}}" data-event-opts="{{[['touchstart',[['touchAvatarBg',['$event']]]]]}}" bindtouchstart="__e"></image></view><image style="position:absolute;width:100%;height:100%;" src="{{imgurl}}" mode="widthFix" class="data-v-57280228"></image><block wx:for="{{maskOptList}}" wx:for-item="item" wx:for-index="index" wx:key="key"><view class="{{['m-mask-item','data-v-57280228',(item.edit)?'maskWithBorder':'']}}" style="{{'width:'+(item.width+'px')+';'+('height:'+(item.height+'px')+';')+('top:'+(item.centerY-item.height/2+'px')+';')+('left:'+(item.centerX-item.width/2+'px')+';')+('transform:'+('rotate('+item.rotate+'deg)'+'scale('+item.scale+')'+'rotateY('+item.rotateY+'deg)')+';')}}" id="{{'mask_'+item.key}}" data-key="{{'mask_'+item.key}}" data-index="{{index}}"><view class="m-mask-view data-v-57280228"><image src="{{item.url}}" mode id="{{'mask_'+item.key}}" data-key="{{'mask_'+item.key}}" data-index="{{index}}" class="data-v-57280228"></image><text class="{{['cuIcon-close','handle','circle','data-v-57280228',(!item.edit)?'hideHandle':'']}}" style="{{'top:'+(0+'px')+';'+('left:'+('0px')+';')}}" id="handle" data-key="{{'mask_'+item.key}}" data-event-opts="{{[['touchstart',[['closeGuashi',[index]]]]]}}" catchtouchstart="__e"></text><text class="{{['cuIcon-full','handle','circle','data-v-57280228',(!item.edit)?'hideHandle':'']}}" style="{{'top:'+(0+'px')+';'+('right:'+('0px')+';')}}" data-key="{{'mask_'+item.key}}" id="handle"></text></view></view></block></view></view><view class="watermark data-v-57280228"><text class="watermark1 data-v-57280228">{{''+(step===0?"Please choose a frame":step===1?"Click here to choose pic":"Use two fingers to drag & zoom-in/out")+''}}</text><view class="watermark2 data-v-57280228">Graduation</view></view><liu-picture-composition vue-id="8dd740cc-1" bgUrl="{{bgUrl}}" photoUrl="{{photoUrl}}" guashiUrl="{{gsUrl}}" width="{{imgWidth}}" height="{{imgHeight}}" dWidth="{{imgWidth}}" dHeight="{{imgHeight}}" radioFun="{{getRatioFun}}" maskList="{{maskOptList}}" x="{{0}}" y="{{0}}" dx="{{0}}" dy="{{0}}" rotate="{{rotate}}" scale="{{scale}}" data-ref="picRef" data-event-opts="{{[['^change',[['change']]]]}}" bind:change="__e" class="data-v-57280228 vue-ref" bind:__l="__l"></liu-picture-composition><view class="choose data-v-57280228"><block wx:if="{{step==0}}"><view class="flex-col section data-v-57280228"><view class="flex-row items-center biaoti data-v-57280228"><view class="green_spot data-v-57280228"></view><text class="font_step data-v-57280228">Step 1 / Choose Frame</text></view><scroll-view class="scroll data-v-57280228" scrollWithAnimation="{{true}}" scrollX="{{true}}" scrollLeft="{{scrollLeft}}"><view class="group data-v-57280228"><block wx:for="{{imgList0}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['selectImg',['$0',index,'endlong'],[[['imgList0','',index]]]]]]]}}" class="{{['item','data-v-57280228',imgSelectIndex==index?'selectedClass':'selectedClassDefault']}}" bindtap="__e"><image class="frame_1 data-v-57280228" mode="widthFix" src="{{item}}"></image></view></block><block wx:for="{{imgList1}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['selectImg',['$0',index,'across'],[[['imgList1','',index]]]]]]]}}" class="{{['item','data-v-57280228',imgSelectIndex==index?'selectedClass':'selectedClassDefault']}}" bindtap="__e"><image class="frame_2 data-v-57280228" mode="widthFix" src="{{item}}"></image></view></block></view></scroll-view><view class="flex-row group_6 mt-27 data-v-57280228"><view data-event-opts="{{[['tap',[['nextStep1']]]]}}" class="{{['ml-16','flex-col','items-center','button_0','text-wrapper_4','data-v-57280228',nextState?'text-wrapper_4_bg2':'text-wrapper_4_bg1']}}" bindtap="__e"><text class="button_font data-v-57280228" style="color:white;">Next</text></view></view></view></block><block wx:if="{{step===1}}"><view class="flex-col section data-v-57280228"><view class="flex-row items-center biaoti data-v-57280228"><view class="green_spot data-v-57280228" style="background-color:#F98109;"></view><text class="font_step data-v-57280228">Step 2 / Choose Pic</text></view><view class="data-v-57280228"><image class="image_choose_pic items-center data-v-57280228" src="https://graduation-1313923643.cos.ap-nanjing.myqcloud.com/select-pic_button.png" alt="Choose Pic" data-event-opts="{{[['tap',[['onChooseAvatar',['$event']]]]]}}" bindtap="__e"></image></view><view class="flex-row group_6 mt-27 data-v-57280228"><view data-event-opts="{{[['tap',[['nextStepBack',['$event']]]]]}}" class="flex-col items-center button text-wrapper_3 data-v-57280228" bindtap="__e"><text class="button_font data-v-57280228">Back</text></view><view data-event-opts="{{[['tap',[['nextStep2']]]]}}" class="{{['ml-16','flex-col','items-center','button','text-wrapper_4','data-v-57280228',nextState?'text-wrapper_4_bg1':'text-wrapper_4_bg2']}}" bindtap="__e"><text class="button_font data-v-57280228" style="color:white;">Next</text></view></view></view></block><block wx:if="{{step==2}}"><view class="flex-col section data-v-57280228"><view class="flex-row items-center biaoti data-v-57280228"><view class="green_spot data-v-57280228" style="background-color:#F98109;"></view><text class="font_step data-v-57280228">Step 3 / Add Sticker</text></view><scroll-view class="scroll data-v-57280228" scrollWithAnimation="{{true}}" scrollX="{{true}}" scrollLeft="{{scrollLeft}}"><view class="group data-v-57280228"><block wx:for="{{$root.l0}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['selectImg1',['$0',index],[[['imgList2','',index]]]]]]]}}" class="{{['item','data-v-57280228',item.g0>-1?'selectedClass':'selectedClassDefault']}}" bindtap="__e"><image class="frame_2 data-v-57280228" mode="widthFix" src="{{item.$orig}}"></image></view></block></view></scroll-view><view class="flex-row group_6 mt-27 data-v-57280228"><view data-event-opts="{{[['tap',[['nextStepBack1',['$event']]]]]}}" class="flex-col items-center button text-wrapper_3 data-v-57280228" bindtap="__e"><text class="button_font data-v-57280228">Back</text></view><view data-event-opts="{{[['tap',[['compositionUrl']]]]}}" class="{{['ml-16','flex-col','items-center','button','text-wrapper_5','data-v-57280228',$root.g1>0?'text-wrapper_5_bg1':'text-wrapper_5_bg2']}}" bindtap="__e"><text class="button_font data-v-57280228" style="color:white;">Generate</text></view></view></view></block></view><ksp-cropper vue-id="8dd740cc-2" mode="fixed" width="{{modeWidth}}" height="{{modeHeight}}" maxWidth="{{1024}}" maxHeight="{{1024}}" url="{{url}}" data-event-opts="{{[['^cancel',[['oncancel']]],['^ok',[['onok']]]]}}" bind:cancel="__e" bind:ok="__e" class="data-v-57280228" bind:__l="__l"></ksp-cropper></view>